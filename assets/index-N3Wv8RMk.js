(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var hf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function e0(){if(Vp)return Nl;Vp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Np;function n0(){return Np||(Np=1,hf.exports=e0()),hf.exports}var Pt=n0(),ff={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function i0(){if(Op)return Et;Op=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function B(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function X(C,Z,st){this.props=C,this.context=Z,this.refs=$,this.updater=st||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function mt(){}mt.prototype=X.prototype;function at(C,Z,st){this.props=C,this.context=Z,this.refs=$,this.updater=st||j}var Tt=at.prototype=new mt;Tt.constructor=at,F(Tt,X.prototype),Tt.isPureReactComponent=!0;var Ft=Array.isArray,_t={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function M(C,Z,st,tt,et,At){return st=At.ref,{$$typeof:s,type:C,key:Z,ref:st!==void 0?st:null,props:At}}function R(C,Z){return M(C.type,Z,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(st){return Z[st]})}var O=/\/+/g;function L(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Z.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,Z,st,tt,et){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case b:return vt=C._init,oe(vt(C._payload),Z,st,tt,et)}}if(vt)return et=et(C),vt=tt===""?"."+L(C,0):tt,Ft(et)?(st="",vt!=null&&(st=vt.replace(O,"$&/")+"/"),oe(et,Z,st,"",function(ee){return ee})):et!=null&&(A(et)&&(et=R(et,st+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(O,"$&/")+"/")+vt)),Z.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Ft(C))for(var xt=0;xt<C.length;xt++)tt=C[xt],At=ce+L(tt,xt),vt+=oe(tt,Z,st,At,et);else if(xt=B(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(tt=C.next()).done;)tt=tt.value,At=ce+L(tt,xt++),vt+=oe(tt,Z,st,At,et);else if(At==="object"){if(typeof C.then=="function")return oe(ge(C),Z,st,tt,et);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function W(C,Z,st){if(C==null)return C;var tt=[],et=0;return oe(C,tt,"","",function(At){return Z.call(st,At,et++)}),tt}function ft(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(st){(C._status===0||C._status===-1)&&(C._status=1,C._result=st)},function(st){(C._status===0||C._status===-1)&&(C._status=2,C._result=st)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function kt(){}return Et.Children={map:W,forEach:function(C,Z,st){W(C,function(){Z.apply(this,arguments)},st)},count:function(C){var Z=0;return W(C,function(){Z++}),Z},toArray:function(C){return W(C,function(Z){return Z})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=X,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=at,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,Z,st){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=F({},C.props),et=C.key,At=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(At=void 0),Z.key!==void 0&&(et=""+Z.key),Z)!Ut.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||(tt[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var ce=Array(vt),xt=0;xt<vt;xt++)ce[xt]=arguments[xt+2];tt.children=ce}return M(C.type,et,void 0,void 0,At,tt)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,Z,st){var tt,et={},At=null;if(Z!=null)for(tt in Z.key!==void 0&&(At=""+Z.key),Z)Ut.call(Z,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Z[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var ce=Array(vt),xt=0;xt<vt;xt++)ce[xt]=arguments[xt+2];et.children=ce}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return M(C,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:p,render:C}},Et.isValidElement=A,Et.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ft}},Et.memo=function(C,Z){return{$$typeof:v,type:C,compare:Z===void 0?null:Z}},Et.startTransition=function(C){var Z=_t.T,st={};_t.T=st;try{var tt=C(),et=_t.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(kt,ot)}catch(At){ot(At)}finally{_t.T=Z}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,Z,st){return _t.H.useActionState(C,Z,st)},Et.useCallback=function(C,Z){return _t.H.useCallback(C,Z)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,Z){return _t.H.useDeferredValue(C,Z)},Et.useEffect=function(C,Z){return _t.H.useEffect(C,Z)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,Z,st){return _t.H.useImperativeHandle(C,Z,st)},Et.useInsertionEffect=function(C,Z){return _t.H.useInsertionEffect(C,Z)},Et.useLayoutEffect=function(C,Z){return _t.H.useLayoutEffect(C,Z)},Et.useMemo=function(C,Z){return _t.H.useMemo(C,Z)},Et.useOptimistic=function(C,Z){return _t.H.useOptimistic(C,Z)},Et.useReducer=function(C,Z,st){return _t.H.useReducer(C,Z,st)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,Z,st){return _t.H.useSyncExternalStore(C,Z,st)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Ip;function Yf(){return Ip||(Ip=1,ff.exports=i0()),ff.exports}var Il=Yf(),df={exports:{}},Ol={},mf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function r0(){return Mp||(Mp=1,function(s){function e(W,ft){var ot=W.length;W.push(ft);t:for(;0<ot;){var kt=ot-1>>>1,C=W[kt];if(0<u(C,ft))W[kt]=ft,W[ot]=C,ot=kt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ft=W[0],ot=W.pop();if(ot!==ft){W[0]=ot;t:for(var kt=0,C=W.length,Z=C>>>1;kt<Z;){var st=2*(kt+1)-1,tt=W[st],et=st+1,At=W[et];if(0>u(tt,ot))et<C&&0>u(At,tt)?(W[kt]=At,W[et]=ot,kt=et):(W[kt]=tt,W[st]=ot,kt=st);else if(et<C&&0>u(At,ot))W[kt]=At,W[et]=ot,kt=et;else break t}}return ft}function u(W,ft){var ot=W.sortIndex-ft.sortIndex;return ot!==0?ot:W.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],b=1,I=null,B=3,j=!1,F=!1,$=!1,X=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function Tt(W){for(var ft=i(v);ft!==null;){if(ft.callback===null)a(v);else if(ft.startTime<=W)a(v),ft.sortIndex=ft.expirationTime,e(_,ft);else break;ft=i(v)}}function Ft(W){if($=!1,Tt(W),!F)if(i(_)!==null)F=!0,ge();else{var ft=i(v);ft!==null&&oe(Ft,ft.startTime-W)}}var _t=!1,Ut=-1,M=5,R=-1;function A(){return!(s.unstable_now()-R<M)}function D(){if(_t){var W=s.unstable_now();R=W;var ft=!0;try{t:{F=!1,$&&($=!1,mt(Ut),Ut=-1),j=!0;var ot=B;try{e:{for(Tt(W),I=i(_);I!==null&&!(I.expirationTime>W&&A());){var kt=I.callback;if(typeof kt=="function"){I.callback=null,B=I.priorityLevel;var C=kt(I.expirationTime<=W);if(W=s.unstable_now(),typeof C=="function"){I.callback=C,Tt(W),ft=!0;break e}I===i(_)&&a(_),Tt(W)}else a(_);I=i(_)}if(I!==null)ft=!0;else{var Z=i(v);Z!==null&&oe(Ft,Z.startTime-W),ft=!1}}break t}finally{I=null,B=ot,j=!1}ft=void 0}}finally{ft?O():_t=!1}}}var O;if(typeof at=="function")O=function(){at(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){X(D,0)};function ge(){_t||(_t=!0,O())}function oe(W,ft){Ut=X(function(){W(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){F||j||(F=!0,ge())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(W){switch(B){case 1:case 2:case 3:var ft=3;break;default:ft=B}var ot=B;B=ft;try{return W()}finally{B=ot}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,ft){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ot=B;B=W;try{return ft()}finally{B=ot}},s.unstable_scheduleCallback=function(W,ft,ot){var kt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?kt+ot:kt):ot=kt,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,W={id:b++,callback:ft,priorityLevel:W,startTime:ot,expirationTime:C,sortIndex:-1},ot>kt?(W.sortIndex=ot,e(v,W),i(_)===null&&W===i(v)&&($?(mt(Ut),Ut=-1):$=!0,oe(Ft,ot-kt))):(W.sortIndex=C,e(_,W),F||j||(F=!0,ge())),W},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(W){var ft=B;return function(){var ot=B;B=ft;try{return W.apply(this,arguments)}finally{B=ot}}}}(gf)),gf}var Up;function a0(){return Up||(Up=1,mf.exports=r0()),mf.exports}var pf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function s0(){if(xp)return He;xp=1;var s=Yf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:_,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,b)},He.flushSync=function(_){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=b,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var b=v.as,I=p(b,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:B,fetchPriority:j}):b==="script"&&a.d.X(_,{crossOrigin:I,integrity:B,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,I=p(b,v.crossOrigin);a.d.L(_,b,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var b=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,b){return d.H.useFormState(_,v,b)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Lp;function l0(){if(Lp)return pf.exports;Lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=s0(),pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function u0(){if(zp)return Ol;zp=1;var s=a0(),e=Yf(),i=l0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Ft=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case p:return"Portal";case b:return"Profiler";case v:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case F:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case at:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,L;function w(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+L}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var P=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){P=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){P=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var S=y.split(`
`),N=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===N.length)for(l=S.length-1,c=N.length-1;1<=l&&0<=c&&S[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==N[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function W(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=W(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ot(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function kt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ot(t)!==t)throw Error(a(188))}function Z(t){var n=t.alternate;if(!n){if(n=ot(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function xt(t){return{current:t}}function ee(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function jt(t,n){ce++,vt[ce]=t.current,t.current=n}var Fe=xt(null),ri=xt(null),fn=xt(null),Ui=xt(null);function xi(t,n){switch(jt(fn,n),jt(ri,t),jt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?rp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=rp(t),n=ap(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Fe),jt(Fe,n)}function ai(){ee(Fe),ee(ri),ee(fn)}function Rs(t){t.memoizedState!==null&&jt(Ui,t);var n=Fe.current,r=ap(n,t.type);n!==r&&(jt(ri,t),jt(Fe,r))}function ya(t){ri.current===t&&(ee(Fe),ee(ri)),Ui.current===t&&(ee(Ui),Rl._currentValue=At)}var _a=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,va=s.unstable_cancelCallback,fc=s.unstable_shouldYield,ws=s.unstable_requestPaint,Je=s.unstable_now,Wl=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,si=s.unstable_NormalPriority,tu=s.unstable_LowPriority,Ds=s.unstable_IdlePriority,dc=s.log,Mr=s.unstable_setDisableYieldValue,Li=null,ke=null;function Cs(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof dc=="function"&&Mr(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Li,t)}catch{}}var Ye=Math.clz32?Math.clz32:nu,Vs=Math.log,eu=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(Vs(t)/eu|0)|0}var Bn=128,zi=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Nn(r):(f&=E,f!==0?l=Nn(f):t||(y=E&~y,y!==0&&(l=Nn(y))))):(E=r&~c,E!==0?l=Nn(E):f!==0?l=Nn(f):t||(y=r&~y,y!==0&&(l=Nn(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ea(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function Pi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Ta(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iu(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),Y=1<<H;E[H]=0,S[H]=-1;var P=N[H];if(P!==null)for(N[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ru(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Sp(t.type))}function Hi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),we="__reactFiber$"+Pn,ye="__reactProps$"+Pn,li="__reactContainer$"+Pn,Ur="__reactEvents$"+Pn,Aa="__reactListeners$"+Pn,kn="__reactHandles$"+Pn,Os="__reactResources$"+Pn,ji="__reactMarker$"+Pn;function xr(t){delete t[we],delete t[ye],delete t[Ur],delete t[Aa],delete t[kn]}function On(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=up(t);t!==null;){if(r=t[we])return r;t=up(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[we]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Os];return n||(n=t[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[ji]=!0}var Is=new Set,Sa={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Us={};function su(t){return _a.call(Us,t)?!0:_a.call(Ms,t)?!1:mc.test(t)?Us[t]=!0:(Ms[t]=!0,!1)}function Fi(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gc(t){var n=lu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Lr(t){t._valueTracker||(t._valueTracker=gc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=lu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function ne(t){return t.replace(oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ki(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ra(t,y,Ke(n)):r!=null?Ra(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function zr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ra(t,n,r){n==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Lt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Xi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||pc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function uu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ls(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ls(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function fi(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ki(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Ki(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(t,!!r.multiple,n,!1)}}}var Bs=!1;function ou(t,n,r){if(Bs)return t(n,r);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(ci!==null||hi!==null)&&(to(),ci&&(n=ci,t=hi,hi=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var yn=!1;if(an)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{yn=!1}var Hn=null,Zi=null,di=null;function Ps(){if(di)return di;var t,n=Zi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function ks(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:ks,this.isPropagationStopped=ks,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(qt),qr=D({},qt,{view:0,detail:0}),cu=De(qr),Ca,Va,Qn,Hr=D({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ca=t.screenX-Qn.screenX,Va=t.screenY-Qn.screenY):Va=Ca=0,Qn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),_n=De(Hr),hu=D({},Hr,{dataTransfer:0}),vc=De(hu),jr=D({},qr,{relatedTarget:0}),Na=De(jr),qs=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=De(qs),fu=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=De(fu),Ec=D({},qt,{data:0}),Hs=De(Ec),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function Qr(){return js}var gu=D({},qr,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=De(gu),pu=D({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=De(pu),mi=D({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),yu=De(mi),_u=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=De(_u),Eu=D({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Eu),Xe=D({},qt,{newState:0,oldState:0}),Tu=De(Xe),Au=[9,13,27,32],Fn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,g=an&&(!Fn||o&&8<o&&11>=o),T=" ",x=!1;function k(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function _e(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Nt(t,n){if(Vt)return t==="compositionend"||!Fn&&k(t,n)?(t=Ps(),di=Zi=Hn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=ao(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Qs(t){Wg(t,0)}function Su(t){var n=Gi(t);if(xs(n))return t}function Cd(t,n){if(t==="change")return n}var Vd=!1;if(an){var Tc;if(an){var Ac="oninput"in document;if(!Ac){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Ac=typeof Nd.oninput=="function"}Tc=Ac}else Tc=!1;Vd=Tc&&(!document.documentMode||9<document.documentMode)}function Od(){Me&&(Me.detachEvent("onpropertychange",Id),Yn=Me=null)}function Id(t){if(t.propertyName==="value"&&Su(Yn)){var n=[];gi(n,Yn,t,wa(t)),ou(Qs,n)}}function Ov(t,n,r){t==="focusin"?(Od(),Me=n,Yn=r,Me.attachEvent("onpropertychange",Id)):t==="focusout"&&Od()}function Iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Yn)}function Mv(t,n){if(t==="click")return Su(n)}function Uv(t,n){if(t==="input"||t==="change")return Su(n)}function xv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:xv;function Fs(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_a.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var r=Md(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Md(r)}}function xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ba(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ba(t.document)}return n}function Sc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Lv(t,n){var r=Ld(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(l!==null&&Sc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Ud(n,f);var y=Ud(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var zv=an&&"documentMode"in document&&11>=document.documentMode,xa=null,bc=null,Ys=null,Rc=!1;function zd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||xa==null||xa!==ba(l)||(l=xa,"selectionStart"in l&&Sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Fs(Ys,l)||(Ys=l,l=ao(bc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},wc={},Bd={};an&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(wc[t])return wc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bd)return wc[t]=n[r];return t}var Pd=Yr("animationend"),kd=Yr("animationiteration"),qd=Yr("animationstart"),Bv=Yr("transitionrun"),Pv=Yr("transitionstart"),kv=Yr("transitioncancel"),Hd=Yr("transitionend"),jd=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){jd.set(t,n),rn(n,[t])}var vn=[],za=0,Dc=0;function bu(){for(var t=za,n=Dc=za=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Qd(r,c,f)}}function Ru(t,n,r,l){vn[za++]=t,vn[za++]=n,vn[za++]=r,vn[za++]=l,Dc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cc(t,n,r,l){return Ru(t,n,r,l),wu(t)}function $i(t,n){return Ru(t,null,null,n),wu(t)}function Qd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function wu(t){if(50<_l)throw _l=0,Uh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Fd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Fd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ft(n)},Fd.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var Pa=[],ka=0,Du=null,Cu=0,Tn=[],An=0,Kr=null,pi=1,yi="";function Xr(t,n){Pa[ka++]=Cu,Pa[ka++]=Du,Du=t,Cu=n}function Yd(t,n,r){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Kr,Kr=t;var l=pi;t=yi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Ye(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Vc(t){t.return!==null&&(Xr(t,1),Yd(t,1,0))}function Nc(t){for(;t===Du;)Du=Pa[--ka],Pa[ka]=null,Cu=Pa[--ka],Pa[ka]=null;for(;t===Kr;)Kr=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Ze=null,Ue=null,zt=!1,Mn=null,Kn=!1,Oc=Error(a(519));function Zr(t){var n=Error(a(418,""));throw Zs(En(n,t)),Oc}function Kd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)Ct(El[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Lr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Xi(n,l.value,l.defaultValue,l.children),Lr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ip(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=so),n=!0):n=!1,n||Zr(t)}function Xd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Ks(t){if(t!==Ze)return!1;if(!zt)return Xd(t),zt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||$h(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Zr(t),Xd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?xn(t.stateNode.nextSibling):null;return!0}function Xs(){Ue=Ze=null,zt=!1}function Zs(t){Mn===null?Mn=[t]:Mn.push(t)}var $s=Error(a(460)),Zd=Error(a(474)),Ic={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vu(){}function Jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Vu,Vu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$s?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Vu,Vu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$s?Error(a(483)):t}throw Js=n,$s}}var Js=null;function Wd(){if(Js===null)throw Error(a(459));var t=Js;return Js=null,t}var qa=null,Ws=0;function Nu(t){var n=Ws;return Ws+=1,qa===null&&(qa=[]),Jd(qa,t,n)}function tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tm(t){var n=t._init;return n(t._payload)}function em(t){function n(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=or(U,V),U.index=0,U.sibling=null,U}function f(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=33554434,V):z):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,z,G){return V===null||V.tag!==6?(V=wh(z,U.mode,G),V.return=U,V):(V=c(V,z),V.return=U,V)}function S(U,V,z,G){var it=z.type;return it===_?H(U,V,z.props.children,G,z.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===at&&tm(it)===V.type)?(V=c(V,z.props),tl(V,z),V.return=U,V):(V=Xu(z.type,z.key,z.props,null,U.mode,G),tl(V,z),V.return=U,V)}function N(U,V,z,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Dh(z,U.mode,G),V.return=U,V):(V=c(V,z.children||[]),V.return=U,V)}function H(U,V,z,G,it){return V===null||V.tag!==7?(V=sa(z,U.mode,G,it),V.return=U,V):(V=c(V,z),V.return=U,V)}function Y(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=wh(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return z=Xu(V.type,V.key,V.props,null,U.mode,z),tl(z,V),z.return=U,z;case p:return V=Dh(V,U.mode,z),V.return=U,V;case at:var G=V._init;return V=G(V._payload),Y(U,V,z)}if(tt(V)||Ut(V))return V=sa(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Nu(V),z);if(V.$$typeof===j)return Y(U,Fu(U,V),z);Ou(U,V)}return null}function P(U,V,z,G){var it=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:E(U,V,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===it?S(U,V,z,G):null;case p:return z.key===it?N(U,V,z,G):null;case at:return it=z._init,z=it(z._payload),P(U,V,z,G)}if(tt(z)||Ut(z))return it!==null?null:H(U,V,z,G,null);if(typeof z.then=="function")return P(U,V,Nu(z),G);if(z.$$typeof===j)return P(U,V,Fu(U,z),G);Ou(U,z)}return null}function q(U,V,z,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(V,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,S(V,U,G,it);case p:return U=U.get(G.key===null?z:G.key)||null,N(V,U,G,it);case at:var Rt=G._init;return G=Rt(G._payload),q(U,V,z,G,it)}if(tt(G)||Ut(G))return U=U.get(z)||null,H(V,U,G,it,null);if(typeof G.then=="function")return q(U,V,z,Nu(G),it);if(G.$$typeof===j)return q(U,V,z,Fu(V,G),it);Ou(V,G)}return null}function rt(U,V,z,G){for(var it=null,Rt=null,lt=V,ht=V=0,Oe=null;lt!==null&&ht<z.length;ht++){lt.index>ht?(Oe=lt,lt=null):Oe=lt.sibling;var Bt=P(U,lt,z[ht],G);if(Bt===null){lt===null&&(lt=Oe);break}t&&lt&&Bt.alternate===null&&n(U,lt),V=f(Bt,V,ht),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt,lt=Oe}if(ht===z.length)return r(U,lt),zt&&Xr(U,ht),it;if(lt===null){for(;ht<z.length;ht++)lt=Y(U,z[ht],G),lt!==null&&(V=f(lt,V,ht),Rt===null?it=lt:Rt.sibling=lt,Rt=lt);return zt&&Xr(U,ht),it}for(lt=l(lt);ht<z.length;ht++)Oe=q(lt,U,ht,z[ht],G),Oe!==null&&(t&&Oe.alternate!==null&&lt.delete(Oe.key===null?ht:Oe.key),V=f(Oe,V,ht),Rt===null?it=Oe:Rt.sibling=Oe,Rt=Oe);return t&&lt.forEach(function(pr){return n(U,pr)}),zt&&Xr(U,ht),it}function pt(U,V,z,G){if(z==null)throw Error(a(151));for(var it=null,Rt=null,lt=V,ht=V=0,Oe=null,Bt=z.next();lt!==null&&!Bt.done;ht++,Bt=z.next()){lt.index>ht?(Oe=lt,lt=null):Oe=lt.sibling;var pr=P(U,lt,Bt.value,G);if(pr===null){lt===null&&(lt=Oe);break}t&&lt&&pr.alternate===null&&n(U,lt),V=f(pr,V,ht),Rt===null?it=pr:Rt.sibling=pr,Rt=pr,lt=Oe}if(Bt.done)return r(U,lt),zt&&Xr(U,ht),it;if(lt===null){for(;!Bt.done;ht++,Bt=z.next())Bt=Y(U,Bt.value,G),Bt!==null&&(V=f(Bt,V,ht),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return zt&&Xr(U,ht),it}for(lt=l(lt);!Bt.done;ht++,Bt=z.next())Bt=q(lt,U,ht,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?ht:Bt.key),V=f(Bt,V,ht),Rt===null?it=Bt:Rt.sibling=Bt,Rt=Bt);return t&&lt.forEach(function(t0){return n(U,t0)}),zt&&Xr(U,ht),it}function ae(U,V,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var it=z.key;V!==null;){if(V.key===it){if(it=z.type,it===_){if(V.tag===7){r(U,V.sibling),G=c(V,z.props.children),G.return=U,U=G;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===at&&tm(it)===V.type){r(U,V.sibling),G=c(V,z.props),tl(G,z),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}z.type===_?(G=sa(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=Xu(z.type,z.key,z.props,null,U.mode,G),tl(G,z),G.return=U,U=G)}return y(U);case p:t:{for(it=z.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(U,V.sibling),G=c(V,z.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=Dh(z,U.mode,G),G.return=U,U=G}return y(U);case at:return it=z._init,z=it(z._payload),ae(U,V,z,G)}if(tt(z))return rt(U,V,z,G);if(Ut(z)){if(it=Ut(z),typeof it!="function")throw Error(a(150));return z=it.call(z),pt(U,V,z,G)}if(typeof z.then=="function")return ae(U,V,Nu(z),G);if(z.$$typeof===j)return ae(U,V,Fu(U,z),G);Ou(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,z),G.return=U,U=G):(r(U,V),G=wh(z,U.mode,G),G.return=U,U=G),y(U)):r(U,V)}return function(U,V,z,G){try{Ws=0;var it=ae(U,V,z,G);return qa=null,it}catch(lt){if(lt===$s)throw lt;var Rt=wn(29,lt,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var $r=em(!0),nm=em(!1),Ha=xt(null),Iu=xt(0);function im(t,n){t=Ci,jt(Iu,t),jt(Ha,n),Ci=t|n.baseLanes}function Mc(){jt(Iu,Ci),jt(Ha,Ha.current)}function Uc(){Ci=Iu.current,ee(Ha),ee(Iu)}var Sn=xt(null),Xn=null;function Ji(t){var n=t.alternate;jt(Ee,Ee.current&1),jt(Sn,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function rm(t){if(t.tag===22){if(jt(Ee,Ee.current),jt(Sn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Wi()}function Wi(){jt(Ee,Ee.current),jt(Sn,Sn.current)}function _i(t){ee(Sn),Xn===t&&(Xn=null),ee(Ee)}var Ee=xt(0);function Mu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Hv=s.unstable_scheduleCallback,jv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xc(){return{controller:new qv,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&Hv(jv,function(){t.controller.abort()})}var nl=null,Lc=0,ja=0,Ga=null;function Gv(t,n){if(nl===null){var r=nl=[];Lc=0,ja=Hh(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Lc++,n.then(am,am),n}function am(){if(--Lc===0&&nl!==null){Ga!==null&&(Ga.status="fulfilled");var t=nl;nl=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Qv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var sm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Gv(t,n),sm!==null&&sm(t,n)};var Jr=xt(null);function zc(){var t=Jr.current;return t!==null?t:Kt.pooledCache}function Uu(t,n){n===null?jt(Jr,Jr.current):jt(Jr,n.pool)}function lm(){var t=zc();return t===null?null:{parent:Te._currentValue,pool:t}}var tr=0,St=null,Gt=null,he=null,xu=!1,Qa=!1,Wr=!1,Lu=0,il=0,Fa=null,Fv=0;function le(){throw Error(a(321))}function Bc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function Pc(t,n,r,l,c,f){return tr=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?ta:er,Wr=!1,f=r(l,c),Wr=!1,Qa&&(f=om(n,r,l,c)),um(t),f}function um(t){A.H=Zn;var n=Gt!==null&&Gt.next!==null;if(tr=0,he=Gt=St=null,xu=!1,il=0,Fa=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Qu(t)&&(Ve=!0))}function om(t,n,r,l){St=t;var c=0;do{if(Qa&&(Fa=null),il=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,he=Gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=ea,f=n(r,l)}while(Qa);return f}function Yv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(St.flags|=1024),n}function kc(){var t=Lu!==0;return Lu=0,t}function qc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Hc(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}tr=0,he=Gt=St=null,Qa=!1,il=Lu=0,Fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?St.memoizedState=he=t:he=he.next=t,he}function fe(){if(Gt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=he===null?St.memoizedState:he.next;if(n!==null)he=n,Gt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},he===null?St.memoizedState=he=t:he=he.next=t}return he}var zu;zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function rl(t){var n=il;return il+=1,Fa===null&&(Fa=[]),t=Jd(Fa,t,n),n=St,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ta:er),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===j)return qe(t)}throw Error(a(438,String(t)))}function jc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ft;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=fe();return Gc(n,Gt,t)}function Gc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,S=null,N=n,H=!1;do{var Y=N.lane&-536870913;if(Y!==N.lane?(Ot&Y)===Y:(tr&Y)===Y){var P=N.revertLane;if(P===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Y===ja&&(H=!0);else if((tr&P)===P){N=N.next,P===ja&&(H=!0);continue}else Y={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(E=S=Y,y=f):S=S.next=Y,St.lanes|=P,cr|=P;Y=N.action,Wr&&r(f,Y),f=N.hasEagerState?N.eagerState:r(f,Y)}else P={lane:Y,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(E=S=P,y=f):S=S.next=P,St.lanes|=Y,cr|=Y;N=N.next}while(N!==null&&N!==n);if(S===null?y=f:S.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function cm(t,n,r){var l=St,c=fe(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Gt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Kc(dm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ya(9,fm.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||(tr&60)!==0||hm(l,n,r)}return r}function hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=zu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fm(t,n,r,l){n.value=r,n.getSnapshot=l,mm(n)&&gm(t)}function dm(t,n,r){return r(function(){mm(n)&&gm(t)})}function mm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function gm(t){var n=$i(t,2);n!==null&&$e(n,t,2)}function Fc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Wr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function pm(t,n,r,l){return t.baseState=r,Gc(t,Gt,typeof l=="function"?l:vi)}function Kv(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ym(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ym(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),S=A.S;S!==null&&S(y,E),_m(t,n,E)}catch(N){Yc(t,n,N)}finally{A.T=f}}else try{f=r(c,l),_m(t,n,f)}catch(N){Yc(t,n,N)}}function _m(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vm(t,n,l)},function(l){return Yc(t,n,l)}):vm(t,n,r)}function vm(t,n,r){n.status="fulfilled",n.value=r,Em(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ym(t,r)))}function Yc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Em(n),n=n.next;while(n!==l)}t.action=null}function Em(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tm(t,n){return n}function Am(t,n){if(zt){var r=Kt.formState;if(r!==null){t:{var l=St;if(zt){if(Ue){e:{for(var c=Ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Zr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:n},r.queue=l,r=km.bind(null,St,l),l.dispatch=r,l=Fc(!1),f=Wc.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Kv.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Sm(t){var n=fe();return bm(n,Gt,t)}function bm(t,n,r){n=Gc(t,n,Tm)[0],t=Pu(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?rl(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Ya(9,Xv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Xv(t,n){t.action=n}function Rm(t){var n=fe(),r=Gt;if(r!==null)return bm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=zu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wm(){return fe().memoizedState}function ku(t,n,r,l){var c=tn();St.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function qu(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Gt!==null&&l!==null&&Bc(l,Gt.memoizedState.deps)?c.memoizedState=Ya(n,r,f,l):(St.flags|=t,c.memoizedState=Ya(1|n,r,f,l))}function Dm(t,n){ku(8390656,8,t,n)}function Kc(t,n){qu(2048,8,t,n)}function Cm(t,n){return qu(4,2,t,n)}function Vm(t,n){return qu(4,4,t,n)}function Nm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Om(t,n,r){r=r!=null?r.concat([t]):null,qu(4,4,Nm.bind(null,n,t),r)}function Xc(){}function Im(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Bc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Mm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Bc(n,l[1]))return l[0];if(l=t(),Wr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Zc(t,n,r){return r===void 0||(tr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=xg(),St.lanes|=t,cr|=t,r)}function Um(t,n,r,l){return sn(r,n)?r:Ha.current!==null?(t=Zc(t,r,l),sn(t,n)||(Ve=!0),t):(tr&42)===0?(Ve=!0,t.memoizedState=r):(t=xg(),St.lanes|=t,cr|=t,n)}function xm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Wc(t,!1,n,r);try{var S=c(),N=A.S;if(N!==null&&N(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Qv(S,l);al(t,n,H,cn(t))}else al(t,n,l,cn(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{et.p=f,A.T=y}}function Zv(){}function $c(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Lm(t).queue;xm(t,c,n,At,r===null?Zv:function(){return zm(t),r(l)})}function Lm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zm(t){var n=Lm(t).next.queue;al(t,n,{},cn())}function Jc(){return qe(Rl)}function Bm(){return fe().memoizedState}function Pm(){return fe().memoizedState}function $v(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=rr(r);var l=ar(n,t,r);l!==null&&($e(l,n,r),ul(l,n,r)),n={cache:xc()},t.payload=n;return}n=n.return}}function Jv(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?qm(n,r):(r=Cc(t,n,r,l),r!==null&&($e(r,t,l),Hm(r,n,l)))}function km(t,n,r){var l=cn();al(t,n,r,l)}function al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))qm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Ru(t,n,c,0),Kt===null&&bu(),!1}catch{}finally{}if(r=Cc(t,n,c,l),r!==null)return $e(r,t,l),Hm(r,n,l),!0}return!1}function Wc(t,n,r,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Cc(t,r,l,2),n!==null&&$e(n,t,2)}function Hu(t){var n=t.alternate;return t===St||n!==null&&n===St}function qm(t,n){Qa=xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var Zn={readContext:qe,use:Bu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Zn.useCacheRefresh=le,Zn.useMemoCache=le,Zn.useHostTransitionStatus=le,Zn.useFormState=le,Zn.useActionState=le,Zn.useOptimistic=le;var ta={readContext:qe,use:Bu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Dm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Nm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Wr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Wr){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Jv.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Fc(t);var n=t.queue,r=km.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Xc,useDeferredValue:function(t,n){var r=tn();return Zc(r,t,n)},useTransition:function(){var t=Fc(!1);return t=xm.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=tn();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(Ot&60)!==0||hm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Dm(dm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,fm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Kt.identifierPrefix;if(zt){var r=yi,l=pi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Fv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=$v.bind(null,St)}};ta.useMemoCache=jc,ta.useHostTransitionStatus=Jc,ta.useFormState=Am,ta.useActionState=Am,ta.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Wc.bind(null,St,!0,r),r.dispatch=n,[t,n]};var er={readContext:qe,use:Bu,useCallback:Im,useContext:qe,useEffect:Kc,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Vm,useMemo:Mm,useReducer:Pu,useRef:wm,useState:function(){return Pu(vi)},useDebugValue:Xc,useDeferredValue:function(t,n){var r=fe();return Um(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Pu(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:cm,useId:Bm};er.useCacheRefresh=Pm,er.useMemoCache=jc,er.useHostTransitionStatus=Jc,er.useFormState=Sm,er.useActionState=Sm,er.useOptimistic=function(t,n){var r=fe();return pm(r,Gt,t,n)};var ea={readContext:qe,use:Bu,useCallback:Im,useContext:qe,useEffect:Kc,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Vm,useMemo:Mm,useReducer:Qc,useRef:wm,useState:function(){return Qc(vi)},useDebugValue:Xc,useDeferredValue:function(t,n){var r=fe();return Gt===null?Zc(r,t,n):Um(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Qc(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:cm,useId:Bm};ea.useCacheRefresh=Pm,ea.useMemoCache=jc,ea.useHostTransitionStatus=Jc,ea.useFormState=Rm,ea.useActionState=Rm,ea.useOptimistic=function(t,n){var r=fe();return Gt!==null?pm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function th(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eh={isMounted:function(t){return(t=t._reactInternals)?ot(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=rr(l);c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=rr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=rr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&($e(n,t,r),ul(n,t,r))}};function jm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fs(r,l)||!Fs(c,f):!0}function Gm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&eh.enqueueReplaceState(n,n.state,null)}function na(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qm(t){ju(t)}function Fm(t){console.error(t)}function Ym(t){ju(t)}function Gu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Km(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nh(t,n,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(t,n)},r}function Xm(t){return t=rr(t),t.tag=3,t}function Zm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Km(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Km(n,r,l),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Wv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ll(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Xn===null?zh():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Ic?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Ph(t,l,c)),!1;case 22:return r.flags|=65536,l===Ic?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Ph(t,l,c)),!1}throw Error(a(435,r.tag))}return Ph(t,l,c),zh(),!1}if(zt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Oc&&(t=Error(a(422),{cause:l}),Zs(En(t,r)))):(l!==Oc&&(n=Error(a(423),{cause:l}),Zs(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=nh(t.stateNode,l,c),yh(t,c),re!==4&&(re=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),pl===null?pl=[f]:pl.push(f),re!==4&&(re=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=nh(r.stateNode,l,t),yh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Xm(c),Zm(c,t,r,l),yh(r,c),!1}r=r.return}while(r!==null);return!1}var $m=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?nm(n,null,r,l):$r(n,t.child,r,l)}function Jm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ra(n),l=Pc(t,n,r,y,f,c),E=kc(),t!==null&&!Ve?(qc(t,n,c),Ei(t,n,c)):(zt&&E&&Vc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Wm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Rh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,tg(t,n,f,l,c)):(t=Xu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!hh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=or(f,l),t.ref=n.ref,t.return=n,n.child=t}function tg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Fs(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,hh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return ih(t,n,r,l,c)}function eg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(sl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ng(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,y!==null?y.cachePool:null),y!==null?im(n,y):Mc(),rm(n);else return n.lanes=n.childLanes=536870912,ng(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Uu(n,y.cachePool),im(n,y),Wi(),n.memoizedState=null):(t!==null&&Uu(n,null),Mc(),Wi());return xe(t,n,c,r),n.child}function ng(t,n,r,l){var c=zc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),Mc(),rm(n),t!==null&&ll(t,n,l,!0),null}function sl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ih(t,n,r,l,c){return ra(n),r=Pc(t,n,r,l,void 0,c),l=kc(),t!==null&&!Ve?(qc(t,n,c),Ei(t,n,c)):(zt&&l&&Vc(n),n.flags|=1,xe(t,n,r,c),n.child)}function ig(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=om(n,l,r,c),um(t),l=kc(),t!==null&&!Ve?(qc(t,n,f),Ei(t,n,f)):(zt&&l&&Vc(n),n.flags|=1,xe(t,n,r,f),n.child)}function rg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(th(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&eh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=na(r,E);f.props=S;var N=f.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=qe(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&Gm(n,f,l,y),ir=!1;var P=n.memoizedState;f.state=P,cl(n,l,f,c),ol(),N=n.memoizedState,E||P!==N||ir?(typeof Y=="function"&&(th(n,r,Y,l),N=n.memoizedState),(S=ir||jm(n,r,S,l,P,N,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=y,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),y=n.memoizedProps,H=na(r,y),f.props=H,Y=n.pendingProps,P=f.context,N=r.contextType,S=Ba,typeof N=="object"&&N!==null&&(S=qe(N)),E=r.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==S)&&Gm(n,f,l,S),ir=!1,P=n.memoizedState,f.state=P,cl(n,l,f,c),ol();var q=n.memoizedState;y!==Y||P!==q||ir||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof E=="function"&&(th(n,r,E,l),q=n.memoizedState),(H=ir||jm(n,r,H,l,P,q,S)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,c),n.child=$r(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function ag(t,n,r,l){return Xs(),n.flags|=256,xe(t,n,r,l),n.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function ah(t){return{baseLanes:t,cachePool:lm()}}function sh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function sg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Ji(n):Wi(),zt){var E=Ue,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=xn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Kr!==null?{id:pi,overflow:yi}:null,retryLane:536870912},S=wn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Ze=n,Ue=null,S=!0):S=!1}S||Zr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=uh({mode:"hidden",children:E},c),l=sa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ah(r),c.childLanes=sh(t,y,r),n.memoizedState=rh,l):(Ji(n),lh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=oh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=uh({mode:"visible",children:l.children},E),c=sa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$r(n,t.child,null,r),l=n.child,l.memoizedState=ah(r),l.childLanes=sh(t,y,r),n.memoizedState=rh,n=c);else if(Ji(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,l=Error(a(419)),l.stack="",l.digest=y,Zs({value:l,source:null,stack:null}),n=oh(t,n,r)}else if(Ve||ll(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Kt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,$i(t,l),$e(y,t,l),$m}E.data==="$?"||zh(),n=oh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=mE.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ue=xn(E.nextSibling),Ze=n,zt=!0,Mn=null,Kn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Kr,pi=t.id,yi=t.overflow,Kr=n),n=lh(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,S=t.child,N=S.sibling,l=or(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,N!==null?c=or(N,c):(c=sa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ah(r):(S=E.cachePool,S!==null?(N=Te._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=lm(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=sh(t,y,r),n.memoizedState=rh,l):(Ji(n),r=t.child,t=r.sibling,r=or(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function lh(t,n){return n=uh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uh(t,n){return Ig(t,n,0,null)}function oh(t,n,r){return $r(n,t.child,null,r),t=lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function lg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dh(t.return,n,r)}function ch(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ug(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,r,n);else if(t.tag===19)lg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),ch(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}ch(n,!0,r,null,f);break;case"together":ch(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ll(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=or(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function tE(t,n,r){switch(n.tag){case 3:xi(n,n.stateNode.containerInfo),nr(n,Te,t.memoizedState.cache),Xs();break;case 27:case 5:Rs(n);break;case 4:xi(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sg(t,n,r):(Ji(n),t=Ei(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ll(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ug(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,eg(t,n,r);case 24:nr(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!hh(t,r)&&(n.flags&128)===0)return Ve=!1,tE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,zt&&(n.flags&1048576)!==0&&Yd(n,Cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Rh(l)?(t=na(l,t),n.tag=1,n=rg(null,n,l,t,r)):(n.tag=0,n=ih(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===F){n.tag=11,n=Jm(null,n,l,t,r);break t}else if(c===mt){n.tag=14,n=Wm(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return ih(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=na(l,n.pendingProps),rg(t,n,l,c,r);case 3:t:{if(xi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,ph(t,n),cl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,nr(n,Te,f),f!==c.cache&&mh(n,[Te],r,!0),ol(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ag(t,n,f,r);break t}else if(f!==l){l=En(Error(a(424)),n),Zs(l),n=ag(t,n,f,r);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),Ze=n,zt=!0,Mn=null,Kn=!0,r=nm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),f===l){n=Ei(t,n,r);break t}xe(t,n,f,r)}n=n.child}return n;case 26:return sl(t,n),t===null?(r=fp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=lo(fn.current).createElement(r),l[we]=n,l[ye]=t,Le(l,r,t),$t(l),n.stateNode=l):n.memoizedState=fp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rs(n),t===null&&zt&&(l=n.stateNode=op(n.type,n.pendingProps,fn.current),Ze=n,Kn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||zt?xe(t,n,l,r):n.child=$r(n,null,l,r),sl(t,n),n.child;case 5:return t===null&&zt&&((c=l=Ue)&&(l=NE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Zr(n)),Rs(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,$h(c,f)?l=null:y!==null&&$h(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Pc(t,n,Yv,null,null,r),Rl._currentValue=c),sl(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=Ue)&&(r=OE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Zr(n)),null;case 13:return sg(t,n,r);case 4:return xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Jm(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Wm(t,n,n.type,n.pendingProps,r);case 15:return tg(t,n,n.type,n.pendingProps,r);case 19:return ug(t,n,r);case 22:return eg(t,n,r);case 24:return ra(n),l=qe(Te),t===null?(c=zc(),c===null&&(c=Kt,f=xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},gh(n),nr(n,Te,c)):((t.lanes&r)!==0&&(ph(t,n),cl(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),nr(n,Te,l)):(l=f.cache,nr(n,Te,l),l!==c.cache&&mh(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var fh=xt(null),ia=null,Ti=null;function nr(t,n,r){jt(fh,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=fh.current,ee(fh)}function dh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function mh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),dh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),dh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&mh(n,t,r,l),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return cg(ia,t)}function Fu(t,n){return ia===null&&ra(t),cg(t,n)}function cg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var ir=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Qd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function yh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _h=!1;function ol(){if(_h){var t=Ga;if(t!==null)throw t}}function cl(t,n,r,l){_h=!1;var c=t.updateQueue;ir=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,N=S.next;S.next=null,y===null?f=N:y.next=N,y=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=S))}if(f!==null){var Y=c.baseState;y=0,H=N=S=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ot&P)===P:(l&P)===P){P!==0&&P===ja&&(_h=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,pt=E;P=n;var ae=r;switch(pt.tag){case 1:if(rt=pt.payload,typeof rt=="function"){Y=rt.call(ae,Y,P);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=pt.payload,P=typeof rt=="function"?rt.call(ae,Y,P):rt,P==null)break t;Y=D({},Y,P);break t;case 2:ir=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=q,S=Y):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(S=Y),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=Y}}function hg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hg(r[t],n)}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function sr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var S=r;try{E()}catch(N){Yt(c,S,N)}}}l=l.next}while(l!==f)}}catch(N){Yt(n,n.return,N)}}function dg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(l){Yt(t,t.return,l)}}}function mg(t,n,r){r.props=na(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function aa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function gg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function pg(t,n,r){try{var l=t.stateNode;RE(l,t.type,r,n),l[ye]=n}catch(c){Yt(t,t.return,c)}}function yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function vh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=so));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Eh(t,n,r),t=t.sibling;t!==null;)Eh(t,n,r),t=t.sibling}function Yu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Yu(t,n,r),t=t.sibling;t!==null;)Yu(t,n,r),t=t.sibling}var Si=!1,ie=!1,Th=!1,_g=typeof WeakSet=="function"?WeakSet:Set,Ne=null,vg=!1;function eE(t,n){if(t=t.containerInfo,Xh=mo,t=Ld(t),Sc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,S=-1,N=0,H=0,Y=t,P=null;e:for(;;){for(var q;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(S=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)P=Y,Y=q;for(;;){if(Y===t)break e;if(P===r&&++N===c&&(E=y),P===f&&++H===l&&(S=y),(q=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=q}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zh={focusedElem:t,selectionRange:r},mo=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=na(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Yt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return rt=vg,vg=!1,rt}function Eg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&hl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=na(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&dg(r),l&512&&aa(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{fg(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:Ri(t,r),l&512&&aa(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&gg(r),l&512&&aa(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Sg(t,r);break;case 22:if(c=r.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ie;var f=Si,y=ie;Si=c,(ie=n)&&!y?lr(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),Si=f,ie=y}l&512&&(r.memoizedProps.mode==="manual"?aa(r,r.return):ln(r,r.return));break;default:Ri(t,r)}}function Tg(t){var n=t.alternate;n!==null&&(t.alternate=null,Tg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function bi(t,n,r){for(r=r.child;r!==null;)Ag(t,n,r),r=r.sibling}function Ag(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ie||ln(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ie||ln(r,n);var l=de,c=un;for(de=r.stateNode,bi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);xr(r),de=l,un=c;break;case 5:ie||ln(r,n);case 6:c=de;var f=un;if(de=null,bi(t,n,r),de=c,un=f,de!==null)if(un)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Yt(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Yt(r,n,y)}break;case 18:de!==null&&(un?(n=de,r=r.stateNode,n.nodeType===8?Wh(n.parentNode,r):n.nodeType===1&&Wh(n,r),Vl(n)):Wh(de,r.stateNode));break;case 4:l=de,c=un,de=r.stateNode.containerInfo,un=!0,bi(t,n,r),de=l,un=c;break;case 0:case 11:case 14:case 15:ie||sr(2,r,n),ie||sr(4,r,n),bi(t,n,r);break;case 1:ie||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&mg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ie||ln(r,n),ie=(l=ie)||r.memoizedState!==null,bi(t,n,r),ie=l;break;default:bi(t,n,r)}}function Sg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Yt(n,n.return,r)}}function nE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _g),n;default:throw Error(a(435,t.tag))}}function Ah(t,n){var r=nE(t);n.forEach(function(l){var c=gE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(a(160));Ag(f,y,c),de=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var Un=null;function bg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(sr(3,t,t.return),hl(3,t),sr(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ie||r===null||ln(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(bn(n,t),Rn(t),l&512&&(ie||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ji]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[we]=t,$t(f),l=f;break t;case"link":var y=gp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=gp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,$t(f),l=f}t.stateNode=l}else pp(c,t.type,t.stateNode);else t.stateNode=mp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?pp(c,t.type,t.stateNode):mp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var N=S.nextSibling,H=S.nodeName;S[ji]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=N}for(var Y=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);Le(c,Y,f),c[we]=t,c[ye]=f}catch(rt){Yt(t,t.return,rt)}}case 5:if(bn(n,t),Rn(t),l&512&&(ie||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,pg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Th=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(co=null,c=Un,Un=uo(n.containerInfo),bn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Th&&(Th=!1,Rg(t));break;case 4:l=Un,Un=uo(t.stateNode.containerInfo),bn(n,t),Rn(t),Un=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Oh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ah(t,l)));break;case 22:if(l&512&&(ie||r===null||ln(r,r.return)),S=t.memoizedState!==null,N=r!==null&&r.memoizedState!==null,H=Si,Y=ie,Si=H||S,ie=Y||N,bn(n,t),ie=Y,Si=H,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Si||ie,r===null||N||n||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){N=r=n;try{if(c=N.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=S?"":N.memoizedProps}catch(rt){Yt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ah(t,r))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ah(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(yg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=vh(t);Yu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=vh(t);Yu(t,E,y);break;case 3:case 4:var S=l.stateNode.containerInfo,N=vh(t);Eh(t,N,S);break;default:throw Error(a(161))}}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Eg(t,n.alternate,n),n=n.sibling}function Ka(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),Ka(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&mg(n,n.return,r),Ka(n);break;case 26:case 27:case 5:ln(n,n.return),Ka(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ka(n);break;default:Ka(n)}t=t.sibling}}function lr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:lr(c,f,r),hl(4,f);break;case 1:if(lr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Yt(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)hg(S[c],E)}catch(N){Yt(l,l.return,N)}}r&&y&64&&dg(f),aa(f,f.return);break;case 26:case 27:case 5:lr(c,f,r),r&&l===null&&y&4&&gg(f),aa(f,f.return);break;case 12:lr(c,f,r);break;case 13:lr(c,f,r),r&&y&4&&Sg(c,f);break;case 22:f.memoizedState===null&&lr(c,f,r),aa(f,f.return);break;default:lr(c,f,r)}n=n.sibling}}function Sh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function bh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function ur(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(t,n,r,l),n=n.sibling}function wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ur(t,n,r,l),c&2048&&hl(9,n);break;case 3:ur(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){ur(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Yt(n,n.return,S)}}else ur(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?ur(t,n,r,l):fl(t,n):f._visibility&4?ur(t,n,r,l):(f._visibility|=4,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Sh(n.alternate,n);break;case 24:ur(t,n,r,l),c&2048&&bh(n.alternate,n);break;default:ur(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,S=l,N=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,S,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Xa(f,y,E,S,c):fl(f,y):(H._visibility|=4,Xa(f,y,E,S,c)),c&&N&2048&&Sh(y.alternate,y);break;case 24:Xa(f,y,E,S,c),c&&N&2048&&bh(y.alternate,y);break;default:Xa(f,y,E,S,c)}n=n.sibling}}function fl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:fl(r,l),c&2048&&Sh(l.alternate,l);break;case 24:fl(r,l),c&2048&&bh(l.alternate,l);break;default:fl(r,l)}n=n.sibling}}var dl=8192;function Za(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Dg(t),t=t.sibling}function Dg(t){switch(t.tag){case 26:Za(t),t.flags&dl&&t.memoizedState!==null&&GE(Un,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Un;Un=uo(t.stateNode.containerInfo),Za(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Za(t),dl=n):Za(t));break;default:Za(t)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Ng(l,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&sr(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ku(t)):ml(t);break;default:ml(t)}}function Ku(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Ng(l,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Ku(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Ku(n));break;default:Ku(n)}t=t.sibling}}function Ng(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Tg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}function iE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new iE(t,n,r,l)}function Rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Og(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Rh(t)&&(y=1);else if(typeof t=="string")y=HE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return sa(r.children,c,f,n);case v:y=8,c|=24;break;case b:return t=wn(12,r,n,c|2),t.elementType=b,t.lanes=f,t;case $:return t=wn(13,r,n,c),t.elementType=$,t.lanes=f,t;case X:return t=wn(19,r,n,c),t.elementType=X,t.lanes=f,t;case Tt:return Ig(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:case j:y=10;break t;case B:y=9;break t;case F:y=11;break t;case mt:y=14;break t;case at:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function sa(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function Ig(t,n,r,l){t=wn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=$i(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=$i(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function wh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Dh(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yp(n)){if(n=Sn.current,n!==null&&((Ot&4194176)===Ot?Xn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Xn))throw Js=Ic,Zd;t.flags|=8192}}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Ja|=n)}function gl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function rE(t,n,r){var l=n.pendingProps;switch(Nc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ks(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(xh(Mn),Mn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(Jt(n),Mg(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),Jt(n),Mg(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),Jt(n),n.flags&=-16777217),null;case 27:ya(n),r=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=Fe.current,Ks(n)?Kd(n):(t=op(c,l,r),n.stateNode=t,wi(n))}return Jt(n),null;case 5:if(ya(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=Fe.current,Ks(n))Kd(n);else{switch(c=lo(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=fn.current,Ks(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ip(t.nodeValue,r)),t||Zr(n)}else t=lo(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(xh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),Jt(n),null;case 4:return ai(),t===null&&Fh(n.stateNode.containerInfo),Jt(n),null;case 10:return Ai(n.type),Jt(n),null;case 19:if(ee(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)gl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Mu(t),f!==null){for(n.flags|=128,gl(c,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Og(r,t),r=r.sibling;return jt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>$u&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Mu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return Jt(n),null}else 2*Je()-c.renderingStartTime>$u&&r!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,jt(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return _i(n),Uc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Te),Jt(n),null;case 25:return null}throw Error(a(156,n.tag))}function aE(t,n){switch(Nc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Ee),null;case 4:return ai(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),Uc(),t!==null&&ee(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Ug(t,n){switch(Nc(n),n.tag){case 3:Ai(Te),ai();break;case 26:case 27:case 5:ya(n);break;case 4:ai();break;case 13:_i(n);break;case 19:ee(Ee);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),Uc(),t!==null&&ee(Jr);break;case 24:Ai(Te)}}var sE={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},lE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Kt=null,wt=null,Ot=0,Xt=0,on=null,Di=!1,$a=!1,Ch=!1,Ci=0,re=0,cr=0,la=0,Vh=0,Dn=0,Ja=0,pl=null,$n=null,Nh=!1,Oh=0,$u=1/0,Ju=null,hr=null,Wu=!1,ua=null,yl=0,Ih=0,Mh=null,_l=0,Uh=null;function cn(){if((Wt&2)!==0&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=ja;return t!==0?t:Hh()}return au()}function xg(){Dn===0&&(Dn=(Ot&536870912)===0||zt?Ns():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Dn}function $e(t,n,r){(t===Kt&&Xt===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Vi(t,Ot,Dn,!1)),se(t,r),((Wt&2)===0||t!==Kt)&&(t===Kt&&((Wt&2)===0&&(la|=r),re===4&&Vi(t,Ot,Dn,!1)),Jn(t))}function Lg(t,n,r){if((Wt&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?cE(t,n):Bh(t,n,!0),f=l;do{if(c===0){$a&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Di);else{if(r=t.current.alternate,f&&!uE(r)){c=Bh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var S=E.current.memoizedState.isDehydrated;if(S&&(Wa(E,y).flags|=256),y=Bh(E,y,!1),y!==2){if(Ch&&!S){E.errorRecoveryDisabledLanes|=f,la|=f,c=4;break t}f=$n,$n=c,f!==null&&xh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Wa(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Vi(l,n,Dn,!Di);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Oh+300-Je(),10<f)){if(Vi(l,n,Dn,!Di),dn(l,0)!==0)break t;l.timeoutHandle=sp(zg.bind(null,l,r,$n,Ju,Nh,n,Dn,la,Ja,Di,2,-0,0),f);break t}zg(l,r,$n,Ju,Nh,n,Dn,la,Ja,Di,0,-0,0)}}break}while(!0);Jn(t)}function xh(t){$n===null?$n=t:$n.push.apply($n,t)}function zg(t,n,r,l,c,f,y,E,S,N,H,Y,P){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:jE},Dg(n),n=QE(),n!==null)){t.cancelPendingCommit=n(Gg.bind(null,t,r,l,c,y,E,S,1,Y,P)),Vi(t,f,y,!N);return}Gg(t,r,l,c,y,E,S,H,Y,P)}function uE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,r,l){n&=~Vh,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function to(){return(Wt&6)===0?(vl(0),!1):!0}function Lh(){if(wt!==null){if(Xt===0)var t=wt.return;else t=wt,Ti=ia=null,Hc(t),qa=null,Ws=0,t=wt;for(;t!==null;)Ug(t.alternate,t),t=t.return;wt=null}}function Wa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,DE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Lh(),Kt=t,wt=r=or(t.current,null),Ot=n,Xt=0,on=null,Di=!1,$a=Bi(t,n),Ch=!1,Ja=Dn=Vh=la=cr=re=0,$n=pl=null,Nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,bu(),r}function Bg(t,n){St=null,A.H=Zn,n===$s?(n=Wd(),Xt=3):n===Zd?(n=Wd(),Xt=4):Xt=n===$m?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(re=1,Gu(t,En(n,t.current)))}function Pg(){var t=A.H;return A.H=Zn,t===null?Zn:t}function kg(){var t=A.A;return A.A=sE,t}function zh(){re=4,Di||(Ot&4194176)!==Ot&&Sn.current!==null||($a=!0),(cr&134217727)===0&&(la&134217727)===0||Kt===null||Vi(Kt,Ot,Dn,!1)}function Bh(t,n,r){var l=Wt;Wt|=2;var c=Pg(),f=kg();(Kt!==t||Ot!==n)&&(Ju=null,Wa(t,n)),n=!1;var y=re;t:do try{if(Xt!==0&&wt!==null){var E=wt,S=on;switch(Xt){case 8:Lh(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var N=Xt;if(Xt=0,on=null,ts(t,E,S,N),r&&$a){y=0;break t}break;default:N=Xt,Xt=0,on=null,ts(t,E,S,N)}}oE(),y=re;break}catch(H){Bg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ti=ia=null,Wt=l,A.H=c,A.A=f,wt===null&&(Kt=null,Ot=0,bu()),y}function oE(){for(;wt!==null;)qg(wt)}function cE(t,n){var r=Wt;Wt|=2;var l=Pg(),c=kg();Kt!==t||Ot!==n?(Ju=null,$u=Je()+500,Wa(t,n)):$a=Bi(t,n);t:do try{if(Xt!==0&&wt!==null){n=wt;var f=on;e:switch(Xt){case 1:Xt=0,on=null,ts(t,n,f,1);break;case 2:if($d(f)){Xt=0,on=null,Hg(n);break}n=function(){Xt===2&&Kt===t&&(Xt=7),Jn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:$d(f)?(Xt=0,on=null,Hg(n)):(Xt=0,on=null,ts(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||yp(y)){Xt=0,on=null;var S=E.sibling;if(S!==null)wt=S;else{var N=E.return;N!==null?(wt=N,eo(N)):wt=null}break e}}Xt=0,on=null,ts(t,n,f,5);break;case 6:Xt=0,on=null,ts(t,n,f,6);break;case 8:Lh(),re=6;break t;default:throw Error(a(462))}}hE();break}catch(H){Bg(t,H)}while(!0);return Ti=ia=null,A.H=l,A.A=c,Wt=r,wt!==null?0:(Kt=null,Ot=0,bu(),re)}function hE(){for(;wt!==null&&!fc();)qg(wt)}function qg(t){var n=og(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?eo(t):wt=n}function Hg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ig(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ig(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Hc(n);default:Ug(r,n),n=wt=Og(n,Ci),n=og(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?eo(t):wt=n}function ts(t,n,r,l){Ti=ia=null,Hc(n),qa=null,Ws=0;var c=n.return;try{if(Wv(t,c,n,r,Ot)){re=1,Gu(t,En(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;re=1,Gu(t,En(r,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:$a||(Ot&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jg(n,t)):eo(n)}function eo(t){var n=t;do{if((n.flags&32768)!==0){jg(n,Di);return}t=n.return;var r=rE(n.alternate,n,Ci);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);re===0&&(re=5)}function jg(t,n){do{var r=aE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);re=6,wt=null}function Gg(t,n,r,l,c,f,y,E,S,N){var H=A.T,Y=et.p;try{et.p=2,A.T=null,fE(t,n,r,l,Y,c,f,y,E,S,N)}finally{A.T=H,et.p=Y}}function fE(t,n,r,l,c,f,y,E){do es();while(ua!==null);if((Wt&6)!==0)throw Error(a(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=S.lanes|S.childLanes;if(N|=Dc,iu(t,l,N,f,y,E),t===Kt&&(wt=Kt=null,Ot=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Wu||(Wu=!0,Ih=N,Mh=r,pE(si,function(){return es(),null})),r=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=Wt,Wt|=4,eE(t,S),bg(S,t),Lv(Zh,t.containerInfo),mo=!!Xh,Zh=Xh=null,t.current=S,Eg(t,S.alternate,S),ws(),Wt=y,et.p=f,A.T=r):t.current=S,Wu?(Wu=!1,ua=t,yl=l):Qg(t,N),N=t.pendingLanes,N===0&&(hr=null),Cs(S.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)N=n[S],c(N.value,{componentStack:N.stack});return(yl&3)!==0&&es(),N=t.pendingLanes,(l&4194218)!==0&&(N&42)!==0?t===Uh?_l++:(_l=0,Uh=t):_l=0,vl(0),null}function Qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function es(){if(ua!==null){var t=ua,n=Ih;Ih=0;var r=ru(yl),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,ua===null)var f=!1;else{r=Mh,Mh=null;var y=ua,E=yl;if(ua=null,yl=0,(Wt&6)!==0)throw Error(a(331));var S=Wt;if(Wt|=4,Vg(y.current),wg(y,y.current,E,r),Wt=S,vl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,Qg(t,n)}}return!1}function Fg(t,n,r){n=En(r,n),n=nh(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(se(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)Fg(t,t,r);else for(;n!==null;){if(n.tag===3){Fg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=En(r,t),r=Xm(2),l=ar(n,r,2),l!==null&&(Zm(r,l,n,t),se(l,2),Jn(l));break}}n=n.return}}function Ph(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new lE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Ch=!0,c.add(r),t=dE.bind(null,t,n,r),n.then(t,t))}function dE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Ot&r)===r&&(re===4||re===3&&(Ot&62914560)===Ot&&300>Je()-Oh?(Wt&2)===0&&Wa(t,0):Vh|=r,Ja===Ot&&(Ja=0)),Jn(t)}function Yg(t,n){n===0&&(n=Pi()),t=$i(t,n),t!==null&&(se(t,n),Jn(t))}function mE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Yg(t,r)}function gE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yg(t,r)}function pE(t,n){return Ir(t,n)}var no=null,ns=null,kh=!1,io=!1,qh=!1,oa=0;function Jn(t){t!==ns&&t.next===null&&(ns===null?no=ns=t:ns=ns.next=t),io=!0,kh||(kh=!0,_E(yE))}function vl(t,n){if(!qh&&io){qh=!0;do for(var r=!1,l=no;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Zg(l,f))}else f=Ot,f=dn(l,l===Kt?f:0),(f&3)===0||Bi(l,f)||(r=!0,Zg(l,f));l=l.next}while(r);qh=!1}}function yE(){io=kh=!1;var t=0;oa!==0&&(wE()&&(t=oa),oa=0);for(var n=Je(),r=null,l=no;l!==null;){var c=l.next,f=Kg(l,n);f===0?(l.next=null,r===null?no=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||(f&3)!==0)&&(io=!0)),l=c}vl(t)}function Kg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,S=c[y];S===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ea(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=Ot,r=dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),ru(r)){case 2:case 8:r=Re;break;case 32:r=si;break;case 268435456:r=Ds;break;default:r=si}return l=Xg.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function Xg(t,n){var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var l=Ot;return l=dn(t,t===Kt?l:0),l===0?null:(Lg(t,l,n),Kg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Xg.bind(null,t):null)}function Zg(t,n){if(es())return null;Lg(t,n,!0)}function _E(t){CE(function(){(Wt&6)!==0?Ir(pe,t):t()})}function Hh(){return oa===0&&(oa=Ns()),oa}function $g(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function Jg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function vE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=$g((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?$g(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var S=y?Jg(c,y):new FormData(c);$c(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=y?Jg(c,y):new FormData(c),$c(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var jh=0;jh<Gd.length;jh++){var Gh=Gd[jh],EE=Gh.toLowerCase(),TE=Gh[0].toUpperCase()+Gh.slice(1);In(EE,"on"+TE)}In(Pd,"onAnimationEnd"),In(kd,"onAnimationIteration"),In(qd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Bv,"onTransitionRun"),In(Pv,"onTransitionStart"),In(kv,"onTransitionCancel"),In(Hd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Wg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],S=E.instance,N=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){ju(H)}c.currentTarget=null,f=S}else for(y=0;y<l.length;y++){if(E=l[y],S=E.instance,N=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){ju(H)}c.currentTarget=null,f=S}}}}function Ct(t,n){var r=n[Ur];r===void 0&&(r=n[Ur]=new Set);var l=t+"__bubble";r.has(l)||(tp(n,t,2,!1),r.add(l))}function Qh(t,n,r){var l=0;n&&(l|=4),tp(r,t,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[ro]){t[ro]=!0,Is.forEach(function(r){r!=="selectionchange"&&(AE.has(r)||Qh(r,!1,t),Qh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ro]||(n[ro]=!0,Qh("selectionchange",!1,n))}}function tp(t,n,r,l){switch(Sp(n)){case 2:var c=KE;break;case 8:c=XE;break;default:c=sf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Yh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;y=y.return}for(;E!==null;){if(y=On(E),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var N=f,H=wa(r),Y=[];t:{var P=jd.get(t);if(P!==void 0){var q=Da,rt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Ma;break;case"focusin":rt="focus",q=Na;break;case"focusout":rt="blur",q=Na;break;case"beforeblur":case"afterblur":q=Na;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yu;break;case Pd:case kd:case qd:q=Oa;break;case Hd:q=vu;break;case"scroll":case"scrollend":q=cu;break;case"wheel":q=Ua;break;case"copy":case"cut":case"paste":q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gs;break;case"toggle":case"beforetoggle":q=Tu}var pt=(n&4)!==0,ae=!pt&&(t==="scroll"||t==="scrollend"),U=pt?P!==null?P+"Capture":null:P;pt=[];for(var V=N,z;V!==null;){var G=V;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=Pr(V,U),G!=null&&pt.push(Tl(V,G,z))),ae)break;V=V.return}0<pt.length&&(P=new q(P,rt,null,r,H),Y.push({event:P,listeners:pt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==pn&&(rt=r.relatedTarget||r.fromElement)&&(On(rt)||rt[li]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=N,rt=rt?On(rt):null,rt!==null&&(ae=ot(rt),pt=rt.tag,rt!==ae||pt!==5&&pt!==27&&pt!==6)&&(rt=null)):(q=null,rt=N),q!==rt)){if(pt=_n,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Gs,G="onPointerLeave",U="onPointerEnter",V="pointer"),ae=q==null?P:Gi(q),z=rt==null?P:Gi(rt),P=new pt(G,V+"leave",q,r,H),P.target=ae,P.relatedTarget=z,G=null,On(H)===N&&(pt=new pt(U,V+"enter",rt,r,H),pt.target=z,pt.relatedTarget=ae,G=pt),ae=G,q&&rt)e:{for(pt=q,U=rt,V=0,z=pt;z;z=is(z))V++;for(z=0,G=U;G;G=is(G))z++;for(;0<V-z;)pt=is(pt),V--;for(;0<z-V;)U=is(U),z--;for(;V--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=is(pt),U=is(U)}pt=null}else pt=null;q!==null&&ep(Y,P,q,pt,!1),rt!==null&&ae!==null&&ep(Y,ae,rt,pt,!0)}}t:{if(P=N?Gi(N):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var it=Cd;else if(ve(P))if(Vd)it=Uv;else{it=Iv;var Rt=Ov}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?N&&zs(N.elementType)&&(it=Cd):it=Mv;if(it&&(it=it(t,N))){gi(Y,it,r,H);break t}Rt&&Rt(t,P,N),t==="focusout"&&N&&P.type==="number"&&N.memoizedProps.value!=null&&Ra(P,"number",P.value)}switch(Rt=N?Gi(N):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(xa=Rt,bc=N,Ys=null);break;case"focusout":Ys=bc=xa=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,zd(Y,r,H);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":zd(Y,r,H)}var lt;if(Fn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(g&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(lt=Ps()):(Hn=H,Zi="value"in Hn?Hn.value:Hn.textContent,Vt=!0)),Rt=ao(N,ht),0<Rt.length&&(ht=new Hs(ht,t,null,r,H),Y.push({event:ht,listeners:Rt}),lt?ht.data=lt:(lt=J(r),lt!==null&&(ht.data=lt)))),(lt=m?_e(t,r):Nt(t,r))&&(ht=ao(N,"onBeforeInput"),0<ht.length&&(Rt=new Hs("onBeforeInput","beforeinput",null,r,H),Y.push({event:Rt,listeners:ht}),Rt.data=lt)),vE(Y,t,N,r,H)}Wg(Y,n)})}function Tl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ao(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Tl(t,c,f)),c=Pr(t,n),c!=null&&l.push(Tl(t,c,f))),t=t.return}return l}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ep(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,S=E.alternate,N=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||N===null||(S=N,c?(N=Pr(r,f),N!=null&&y.unshift(Tl(r,N,S))):c||(N=Pr(r,f),N!=null&&y.push(Tl(r,N,S)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var SE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function np(t){return(typeof t=="string"?t:""+t).replace(SE,`
`).replace(bE,"")}function ip(t,n){return n=np(n),np(t)===n}function so(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":uu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=so);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yc.get(r)||r,Fi(t,r,l))}}function Kh(t,n,r,l,c,f){switch(r){case"style":uu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=so);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,f,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,S=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":S=H;break;case"defaultChecked":N=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Qt(t,n,l,H,r,null)}}zr(t,f,E,S,N,y,c,!1),Lr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):r!=null&&Lt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Qt(t,n,y,E,r,null)}Xi(t,l,c,f),Lr(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,S,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Ct(El[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,N,l,r,null)}return;default:if(zs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Kh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function RE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,S=null,N=null,H=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=Y;default:l.hasOwnProperty(q)||Qt(t,n,q,null,l,Y)}}for(var P in l){var q=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(q!=null||Y!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":N=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Qt(t,n,P,q,l,Y)}}Ki(t,y,E,S,N,H,f,c);return;case"select":q=y=E=P=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==S&&Qt(t,n,c,f,l,S)}n=E,r=y,l=q,P!=null?Lt(t,!!r,P,!1):!!l!=!!r&&(n!=null?Lt(t,!!r,n,!0):Lt(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}Br(t,P,q);return;case"option":for(var rt in r)if(P=r[rt],r.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Qt(t,n,rt,null,l,P)}for(S in l)if(P=l[S],q=r[S],l.hasOwnProperty(S)&&P!==q&&(P!=null||q!=null))switch(S){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Qt(t,n,S,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)P=r[pt],r.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt)&&Qt(t,n,pt,null,l,P);for(N in l)if(P=l[N],q=r[N],l.hasOwnProperty(N)&&P!==q&&(P!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Qt(t,n,N,P,l,q)}return;default:if(zs(n)){for(var ae in r)P=r[ae],r.hasOwnProperty(ae)&&P!==void 0&&!l.hasOwnProperty(ae)&&Kh(t,n,ae,void 0,l,P);for(H in l)P=l[H],q=r[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||Kh(t,n,H,P,l,q);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Qt(t,n,U,null,l,P);for(Y in l)P=l[Y],q=r[Y],!l.hasOwnProperty(Y)||P===q||P==null&&q==null||Qt(t,n,Y,P,l,q)}var Xh=null,Zh=null;function lo(t){return t.nodeType===9?t:t.ownerDocument}function rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ap(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function wE(){var t=window.event;return t&&t.type==="popstate"?t===Jh?!1:(Jh=t,!0):(Jh=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,CE=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(VE)}:sp;function VE(t){setTimeout(function(){throw t})}function Wh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Vl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Vl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),xr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function NE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function OE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function op(t,n,r){switch(n=lo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Cn=new Map,cp=new Set;function uo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=et.d;et.d={f:IE,r:ME,D:UE,C:xE,L:LE,m:zE,X:PE,S:BE,M:kE};function IE(){var t=Ni.f(),n=to();return t||n}function ME(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?zm(n):Ni.r(t)}var rs=typeof document>"u"?null:document;function hp(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),cp.has(c)||(cp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function UE(t){Ni.D(t),hp("dns-prefetch",t,null)}function xE(t,n){Ni.C(t,n),hp("preconnect",t,n)}function LE(t,n,r){Ni.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ne(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ne(r.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}Cn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function zE(t,n){Ni.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!Cn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),Le(l,"link",t),$t(l),r.head.appendChild(l)}}}function BE(t,n,r){Ni.S(t,n,r);var l=rs;if(l&&t){var c=Qi(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&ef(t,r);var S=y=l.createElement("link");$t(S),Le(S,"link",t),S._p=new Promise(function(N,H){S.onload=N,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function PE(t,n){Ni.X(t,n);var r=rs;if(r&&t){var l=Qi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=D({src:t,async:!0},n),(n=Cn.get(c))&&nf(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function kE(t,n){Ni.M(t,n);var r=rs;if(r&&t){var l=Qi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&nf(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function fp(t,n,r,l){var c=(c=fn.current)?uo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Qi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||qE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+ne(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function dp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function qE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),$t(n),t.head.appendChild(n))}function ss(t){return'[src="'+ne(t)+'"]'}function Sl(t){return"script[async]"+t}function mp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(r.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),Le(l,"style",c),oo(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=dp(r),(c=Cn.get(c))&&ef(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Le(f,"link",l),n.state.loading|=4,oo(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,$t(c),c):(l=r,(c=Cn.get(f))&&(l=D({},r),nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oo(l,r.precedence,t));return n.instance}function oo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var co=null;function gp(t,n,r){if(co===null){var l=new Map,c=co=new Map;c.set(r,l)}else c=co,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[ji]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function pp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function HE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function jE(){}function GE(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=as(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ho.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,r=dp(r),(c=Cn.get(c))&&ef(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,S){y.onload=E,y.onerror=S}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ho.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function QE(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&rf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function ho(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fo=null;function rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fo=new Map,n.forEach(FE,t),fo=null,ho.call(t))}function FE(t,n){if(!(n.state.loading&4)){var r=fo.get(t);if(r)var l=r.get(null);else{r=new Map,fo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=ho.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:j,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function YE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _p(t,n,r,l,c,f,y,E,S,N,H,Y){return t=new YE(t,n,r,y,E,S,N,Y),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},gh(f),t}function vp(t){return t?(t=Ba,t):Ba}function Ep(t,n,r,l,c,f){c=vp(c),l.context===null?l.context=c:l.pendingContext=c,l=rr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ar(t,l,n),r!==null&&($e(r,t,n),ul(r,t,n))}function Tp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function af(t,n){Tp(t,n),(t=t.alternate)&&Tp(t,n)}function Ap(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&$e(n,t,67108864),af(t,67108864)}}var mo=!0;function KE(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,sf(t,n,r,l)}finally{et.p=f,A.T=c}}function XE(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,sf(t,n,r,l)}finally{et.p=f,A.T=c}}function sf(t,n,r,l){if(mo){var c=lf(l);if(c===null)Yh(t,n,l,go,r),bp(t,l);else if($E(c,t,n,r,l))l.stopPropagation();else if(bp(t,l),n&4&&-1<ZE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Nn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var S=1<<31-Ye(y);E.entanglements[1]|=S,y&=~S}Jn(f),(Wt&6)===0&&($u=Je()+500,vl(0))}}break;case 13:E=$i(f,2),E!==null&&$e(E,f,2),to(),af(f,2)}if(f=lf(l),f===null&&Yh(t,n,l,go,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Yh(t,n,l,null,r)}}function lf(t){return t=wa(t),uf(t)}var go=null;function uf(t){if(go=null,t=On(t),t!==null){var n=ot(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=kt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return go=t,null}function Sp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case pe:return 2;case Re:return 8;case si:case tu:return 32;case Ds:return 268435456;default:return 32}default:return 32}}var of=!1,fr=null,dr=null,mr=null,wl=new Map,Dl=new Map,gr=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Ap(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function $E(t,n,r,l,c){switch(n){case"focusin":return fr=Cl(fr,t,n,r,l,c),!0;case"dragenter":return dr=Cl(dr,t,n,r,l,c),!0;case"mouseover":return mr=Cl(mr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Cl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function Rp(t){var n=On(t.target);if(n!==null){var r=ot(n);if(r!==null){if(n=r.tag,n===13){if(n=kt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=cn(),c=$i(r,l);c!==null&&$e(c,r,l),af(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=lf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pn=l,r.target.dispatchEvent(l),pn=null}else return n=ui(r),n!==null&&Ap(n),t.blockedOn=r,!1;n.shift()}return!0}function wp(t,n,r){po(t)&&r.delete(n)}function JE(){of=!1,fr!==null&&po(fr)&&(fr=null),dr!==null&&po(dr)&&(dr=null),mr!==null&&po(mr)&&(mr=null),wl.forEach(wp),Dl.forEach(wp)}function yo(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,JE)))}var _o=null;function Dp(t){_o!==t&&(_o=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_o===t&&(_o=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(uf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,$c(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(S){return yo(S,t)}fr!==null&&yo(fr,t),dr!==null&&yo(dr,t),mr!==null&&yo(mr,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)Rp(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Dp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(uf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Dp(r)}}}function cf(t){this._internalRoot=t}vo.prototype.render=cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Ep(r,l,t,n,null,null)},vo.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&es(),Ep(t.current,2,null,t,null,null),to(),n[li]=null}};function vo(t){this._internalRoot=t}vo.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&Rp(t)}};var Cp=e.version;if(Cp!=="19.0.0")throw Error(a(527,Cp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Z(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var WE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Li=Eo.inject(WE),ke=Eo}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Qm,f=Fm,y=Ym,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=_p(t,1,!1,null,null,r,l,c,f,y,E,null),t[li]=n.current,Fh(t.nodeType===8?t.parentNode:t),new cf(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Qm,y=Fm,E=Ym,S=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),n=_p(t,1,!0,n,r??null,l,c,f,y,E,S,N),n.context=vp(null),r=n.current,l=cn(),c=rr(l),c.callback=null,ar(r,c,l),n.current.lanes=l,se(n,l),Jn(n),t[li]=n.current,Fh(t),new vo(n)},Ol.version="19.0.0",Ol}var Bp;function o0(){if(Bp)return df.exports;Bp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),df.exports=u0(),df.exports}var c0=o0();const h0=()=>{};var Pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},f0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,b=h>>2,I=(h&3)<<4|p>>4;let B=(p&15)<<2|v>>6,j=v&63;_||(j=64,d||(B=64)),a.push(i[b],i[I],i[B],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Yy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):f0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||I==null)throw new d0;const B=h<<2|p>>4;if(a.push(B),v!==64){const j=p<<4&240|v>>2;if(a.push(j),I!==64){const F=v<<6&192|I;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class d0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m0=function(s){const e=Yy(s);return Ky.encodeByteArray(e,!0)},Mo=function(s){return m0(s).replace(/\./g,"")},g0=function(s){try{return Ky.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=()=>p0().__FIREBASE_DEFAULTS__,_0=()=>{if(typeof process>"u"||typeof Pp>"u")return;const s=Pp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},v0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&g0(s[1]);return e&&JSON.parse(e)},Kf=()=>{try{return h0()||y0()||_0()||v0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},E0=s=>{var e,i;return(i=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},T0=s=>{const e=E0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Xy=()=>{var s;return(s=Kf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Mo(JSON.stringify(i)),Mo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R0(){var s;const e=(s=Kf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w0(){return!R0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D0(){try{return typeof indexedDB=="object"}catch{return!1}}function C0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=V0,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zy.prototype.create)}}class Zy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?N0(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Es(u,p,a)}}function N0(s,e){return s.replace(O0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const O0=/\{\$([^}]+)}/g;function Uo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(kp(h)&&kp(d)){if(!Uo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function kp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new A0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U0(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:M0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M0(s){return s===ca?void 0:s}function U0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new I0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const L0={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},z0=Mt.INFO,B0={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},P0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=B0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $y{constructor(e){this.name=e,this._logLevel=z0,this._logHandler=P0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const k0=(s,e)=>e.some(i=>s instanceof i);let qp,Hp;function q0(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H0(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jy=new WeakMap,Rf=new WeakMap,Wy=new WeakMap,yf=new WeakMap,Xf=new WeakMap;function j0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Jy.set(i,s)}).catch(()=>{}),Xf.set(e,s),e}function G0(s){if(Rf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Rf.set(s,e)}let wf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Rf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Q0(s){wf=s(wf)}function F0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(_f(this),e,...i);return Wy.set(a,e.sort?e.sort():[e]),_r(a)}:H0().includes(s)?function(...e){return s.apply(_f(this),e),_r(Jy.get(this))}:function(...e){return _r(s.apply(_f(this),e))}}function Y0(s){return typeof s=="function"?F0(s):(s instanceof IDBTransaction&&G0(s),k0(s,q0())?new Proxy(s,wf):s)}function _r(s){if(s instanceof IDBRequest)return j0(s);if(yf.has(s))return yf.get(s);const e=Y0(s);return e!==s&&(yf.set(s,e),Xf.set(e,s)),e}const _f=s=>Xf.get(s);function K0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const X0=["get","getKey","getAll","getAllKeys","count"],Z0=["put","add","delete","clear"],vf=new Map;function jp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=Z0.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||X0.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return vf.set(e,h),h}Q0(s=>({...s,get:(e,i,a)=>jp(e,i)||s.get(e,i,a),has:(e,i)=>!!jp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(J0(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function J0(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",Gp="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new $y("@firebase/app"),W0="@firebase/app-compat",tT="@firebase/analytics-compat",eT="@firebase/analytics",nT="@firebase/app-check-compat",iT="@firebase/app-check",rT="@firebase/auth",aT="@firebase/auth-compat",sT="@firebase/database",lT="@firebase/data-connect",uT="@firebase/database-compat",oT="@firebase/functions",cT="@firebase/functions-compat",hT="@firebase/installations",fT="@firebase/installations-compat",dT="@firebase/messaging",mT="@firebase/messaging-compat",gT="@firebase/performance",pT="@firebase/performance-compat",yT="@firebase/remote-config",_T="@firebase/remote-config-compat",vT="@firebase/storage",ET="@firebase/storage-compat",TT="@firebase/firestore",AT="@firebase/vertexai",ST="@firebase/firestore-compat",bT="firebase",RT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="[DEFAULT]",wT={[Df]:"fire-core",[W0]:"fire-core-compat",[eT]:"fire-analytics",[tT]:"fire-analytics-compat",[iT]:"fire-app-check",[nT]:"fire-app-check-compat",[rT]:"fire-auth",[aT]:"fire-auth-compat",[sT]:"fire-rtdb",[lT]:"fire-data-connect",[uT]:"fire-rtdb-compat",[oT]:"fire-fn",[cT]:"fire-fn-compat",[hT]:"fire-iid",[fT]:"fire-iid-compat",[dT]:"fire-fcm",[mT]:"fire-fcm-compat",[gT]:"fire-perf",[pT]:"fire-perf-compat",[yT]:"fire-rc",[_T]:"fire-rc-compat",[vT]:"fire-gcs",[ET]:"fire-gcs-compat",[TT]:"fire-fst",[ST]:"fire-fst-compat",[AT]:"fire-vertex","fire-js":"fire-js",[bT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Map,DT=new Map,Vf=new Map;function Qp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lo(s){const e=s.name;if(Vf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,s);for(const i of xo.values())Qp(i,s);for(const i of DT.values())Qp(i,s);return!0}function CT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function VT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Zy("app","Firebase",NT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=RT;function t_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw vr.create("bad-app-name",{appName:String(u)});if(i||(i=Xy()),!i)throw vr.create("no-options");const h=xo.get(u);if(h){if(Uo(i,h.options)&&Uo(a,h.config))return h;throw vr.create("duplicate-app",{appName:u})}const d=new x0(u);for(const _ of Vf.values())d.addComponent(_);const p=new OT(i,a,d);return xo.set(u,p),p}function MT(s=Cf){const e=xo.get(s);if(!e&&s===Cf&&Xy())return t_();if(!e)throw vr.create("no-app",{appName:s});return e}function hs(s,e,i){var a;let u=(a=wT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(p.join(" "));return}Lo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebase-heartbeat-database",xT=1,ql="firebase-heartbeat-store";let Ef=null;function e_(){return Ef||(Ef=K0(UT,xT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Ef}async function LT(s){try{const i=(await e_()).transaction(ql),a=await i.objectStore(ql).get(n_(s));return await i.done,a}catch(e){if(e instanceof Es)Oi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Fp(s,e){try{const a=(await e_()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,n_(s)),await a.done}catch(i){if(i instanceof Es)Oi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function n_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=1024,BT=30;class PT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Yp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>BT){const d=HT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yp(),{heartbeatsToSend:a,unsentEntries:u}=kT(this._heartbeatsCache.heartbeats),h=Mo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Yp(){return new Date().toISOString().substring(0,10)}function kT(s,e=zT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Kp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Kp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D0()?C0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Kp(s){return Mo(JSON.stringify({version:2,heartbeats:s})).length}function HT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(s){Lo(new kl("platform-logger",e=>new $0(e),"PRIVATE")),Lo(new kl("heartbeat",e=>new PT(e),"PRIVATE")),hs(Df,Gp,s),hs(Df,Gp,"esm2017"),hs("fire-js","")}jT("");var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,i_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,O,L){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return R.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],O=M.g[2];var L=M.g[3],w=R+(L^A&(O^L))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[1]+3905402710&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[5]+1200080426&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[9]+2336552879&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(L^A&(O^L))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=L+(O^R&(A^O))+D[13]+4254626195&4294967295,L=R+(w<<12&4294967295|w>>>20),w=O+(A^L&(R^A))+D[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(R^O&(L^R))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(O^L&(A^O))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[6]+3225465664&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[10]+38016083&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[14]+3275163606&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^L&(A^O))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(R^A))+D[2]+4243563512&4294967295,L=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(L^R))+D[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^R&(O^L))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(A^O^L)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[8]+2272392833&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[4]+1272893353&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[0]+3936430074&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^L)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=L+(R^A^O)+D[12]+3873151461&4294967295,L=R+(w<<11&4294967295|w>>>21),w=O+(L^R^A)+D[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^R)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(O^(A|~L))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[7]+1126891415&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[3]+2399980690&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[15]+4264355552&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~L))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=L+(A^(R|~O))+D[11]+3174756917&4294967295,L=R+(w<<10&4294967295|w>>>22),w=O+(R^(L|~A))+D[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+L&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,D=this.B,O=this.h,L=0;L<R;){if(O==0)for(;L<=A;)u(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(D[O++]=M.charCodeAt(L++),O==this.blockSize){u(this,D),O=0;break}}else for(;L<R;)if(D[O++]=M[L++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)M[A++]=this.g[R]>>>D&255;return M};function h(M,R){var A=p;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],D=!0,O=M.length-1;0<=O;O--){var L=M[O]|0;D&&L==R||(A[O]=L,D=!1)}this.g=A}var p={};function _(M){return-128<=M&&128>M?h(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return X(v(-M));for(var R=[],A=1,D=0;M>=A;D++)R[D]=M/A|0,A*=4294967296;return new d(R,0)}function b(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return X(b(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=I,O=0;O<M.length;O+=8){var L=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+L),R);8>L?(L=v(Math.pow(R,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var I=_(0),B=_(1),j=_(16777216);s=d.prototype,s.m=function(){if($(this))return-X(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if($(this))return"-"+X(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,D="";;){var O=Ft(A,R).g;A=mt(A,O.j(R));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=O,F(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function $(M){return M.h==-1}s.l=function(M){return M=mt(this,M),$(M)?-1:F(M)?0:1};function X(M){for(var R=M.g.length,A=[],D=0;D<R;D++)A[D]=~M.g[D];return new d(A,~M.h).add(B)}s.abs=function(){return $(this)?X(this):this},s.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0,O=0;O<=R;O++){var L=D+(this.i(O)&65535)+(M.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);D=w>>>16,L&=65535,w&=65535,A[O]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function mt(M,R){return M.add(X(R))}s.j=function(M){if(F(this)||F(M))return I;if($(this))return $(M)?X(this).j(X(M)):X(X(this).j(M));if($(M))return X(this.j(X(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<M.g.length;O++){var L=this.i(D)>>>16,w=this.i(D)&65535,ge=M.i(O)>>>16,oe=M.i(O)&65535;A[2*D+2*O]+=w*oe,at(A,2*D+2*O),A[2*D+2*O+1]+=L*oe,at(A,2*D+2*O+1),A[2*D+2*O+1]+=w*ge,at(A,2*D+2*O+1),A[2*D+2*O+2]+=L*ge,at(A,2*D+2*O+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function at(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Tt(M,R){this.g=M,this.h=R}function Ft(M,R){if(F(R))throw Error("division by zero");if(F(M))return new Tt(I,I);if($(M))return R=Ft(X(M),R),new Tt(X(R.g),X(R.h));if($(R))return R=Ft(M,X(R)),new Tt(X(R.g),R.h);if(30<M.g.length){if($(M)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var A=B,D=R;0>=D.l(M);)A=_t(A),D=_t(D);var O=Ut(A,1),L=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!F(D);){var w=L.add(D);0>=w.l(M)&&(O=O.add(A),L=w),D=Ut(D,1),A=Ut(A,1)}return R=mt(M,O.j(R)),new Tt(O,R)}for(O=I;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(R);$(w)||0<w.l(M);)A-=D,L=v(A),w=L.j(R);F(L)&&(L=B),O=O.add(L),M=mt(M,w)}return new Tt(O,M)}s.A=function(M){return Ft(this,M).h},s.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&M.i(D);return new d(A,this.h&M.h)},s.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|M.i(D);return new d(A,this.h|M.h)},s.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^M.i(D);return new d(A,this.h^M.h)};function _t(M){for(var R=M.g.length+1,A=[],D=0;D<R;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(A,M.h)}function Ut(M,R){var A=R>>5;R%=32;for(var D=M.g.length-A,O=[],L=0;L<D;L++)O[L]=0<R?M.i(L+A)>>>R|M.i(L+A+1)<<32-R:M.i(L+A);return new d(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,i_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Er=d}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r_,Ml,a_,Do,Nf,s_,l_,u_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof To=="object"&&To];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in g))break t;g=g[x]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,x={next:function(){if(!T&&g<o.length){var k=g++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function b(o,m,g){return o.call.apply(o.bind,arguments)}function I(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function B(o,m,g){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:I,B.apply(null,arguments)}function j(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function F(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,x,k){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,J)}}function $(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function X(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=o.length||0,k=T.length||0;o.length=x+k;for(let J=0;J<k;J++)o[x+J]=T[J]}else o.push(T)}}class mt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Ft(o){return Ft[" "](o),o}Ft[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function M(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function R(o){const m={};for(const g in o)m[g]=o[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)o[g]=T[g];for(let k=0;k<A.length;k++)g=A[k],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function O(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function L(o){p.setTimeout(()=>{throw o},0)}function w(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,g){const T=oe.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new mt(()=>new W,o=>o.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,kt=new ge,C=()=>{const o=p.Promise.resolve(void 0);ft=()=>{o.then(Z)}};var Z=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){L(g)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function At(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Ft(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}F(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ee(o,m,g,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,g,T,x){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var J=fn(o,m,T,x);return-1<J?(m=o[J],g||(m.fa=!1)):(m=new ee(m,this.src,k,!!T,x),m.fa=g,o.push(m)),m};function ri(o,m){var g=m.type;if(g in o.g){var T=o.g[g],x=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=x)&&Array.prototype.splice.call(T,x,1),k&&(jt(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function fn(o,m,g,T){for(var x=0;x<o.length;++x){var k=o[x];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return x}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),xi={};function ai(o,m,g,T,x){if(Array.isArray(m)){for(var k=0;k<m.length;k++)ai(o,m[k],g,T,x);return null}return g=Wl(g),o&&o[ce]?o.K(m,g,v(T)?!!T.capture:!1,x):Rs(o,m,g,!1,T,x)}function Rs(o,m,g,T,x,k){if(!m)throw Error("Invalid event type");var J=v(x)?!!x.capture:!!x,Vt=ws(o);if(Vt||(o[Ui]=Vt=new Fe(o)),g=Vt.add(m,g,T,J,k),g.proxy)return g;if(T=ya(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)et||(x=J),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(va(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ya(){function o(g){return m.call(o.src,o.listener,g)}const m=fc;return o}function _a(o,m,g,T,x){if(Array.isArray(m))for(var k=0;k<m.length;k++)_a(o,m[k],g,T,x);else T=v(T)?!!T.capture:!!T,g=Wl(g),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],g=fn(k,g,T,x),-1<g&&(jt(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=ws(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,g,T,x)),(g=-1<o?m[o]:null)&&Ir(g))}function Ir(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ri(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(va(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ws(m))?(ri(g,o),g.h==0&&(g.src=null,m[Ui]=null)):jt(o)}}}function va(o){return o in xi?xi[o]:xi[o]="on"+o}function fc(o,m){if(o.da)o=!0;else{m=new At(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&Ir(o),o=g.call(T,m)}return o}function ws(o){return o=o[Ui],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}F(pe,st),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,g,T){_a(this,o,m,g,T)};function Re(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,g)for(var k=g.length-1;0<=k;k--){var J=m.g=g[k];x=si(J,T,!0,m)&&x}if(J=m.g=o,x=si(J,T,!0,m)&&x,x=si(J,T,!1,m)&&x,g)for(k=0;k<g.length;k++)J=m.g=g[k],x=si(J,T,!1,m)&&x}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)jt(g[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},pe.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function si(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,k=0;k<m.length;++k){var J=m[k];if(J&&!J.da&&J.capture==g){var Vt=J.listener,_e=J.ha||J.src;J.fa&&ri(o.i,J),x=Vt.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function tu(o,m,g){if(typeof o=="function")g&&(o=B(o,g));else if(o&&typeof o.handleEvent=="function")o=B(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Ds(o){o.g=tu(()=>{o.g=null,o.i&&(o.i=!1,Ds(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class dc extends st{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ds(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(o){st.call(this),this.h=o,this.g={}}F(Mr,st);var Li=[];function ke(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Ir(m)},o),o.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),ke(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=p.JSON.stringify,zn=p.JSON.parse,Ye=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Vs(){}Vs.prototype.h=null;function eu(o){return o.h||(o.h=o.i())}function nu(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){tt.call(this,"d")}F(zi,tt);function Nn(){tt.call(this,"c")}F(Nn,tt);var dn={},Bi=null;function Ea(){return Bi=Bi||new pe}dn.La="serverreachability";function Ns(o){tt.call(this,dn.La,o)}F(Ns,tt);function Pi(o){const m=Ea();Re(m,new Ns(m))}dn.STAT_EVENT="statevent";function Ta(o,m){tt.call(this,dn.STAT_EVENT,o),this.stat=m}F(Ta,tt);function se(o){const m=Ea();Re(m,new Ta(m,o))}dn.Ma="timingevent";function iu(o,m){tt.call(this,dn.Ma,o),this.size=m}F(iu,tt);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function ru(o,m,g,T,x,k){o.info(function(){if(o.g)if(k)for(var J="",Vt=k.split("&"),_e=0;_e<Vt.length;_e++){var Nt=Vt[_e].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var ve=Ce.split("_");J=2<=ve.length&&ve[1]=="type"?J+(Ce+"="+Nt+"&"):J+(Ce+"=redacted&")}}else J=null;else J=k;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+J})}function au(o,m,g,T,x,k,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+k+" "+J})}function Hi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,g)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var J=1;J<x.length;J++)x[J]=""}}}}return Cs(g)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Aa(){}F(Aa,Vs),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Ur=new Aa;function kn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var ji={},xr={};function On(o,m,g){o.L=1,o.v=Br(ne(m)),o.m=g,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),$t(o),o.A=ne(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),hi(g.i,"t",T),o.C=0,g=o.j.J,o.h=new Os,o.g=vu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new dc(B(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Li[0]=x.toString()),x=Li);for(var k=0;k<x.length;k++){var J=ai(g,x[k],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),ru(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=gi?Pi(3):Pi(2)),Sa(this);var g=this.g.Z();this.X=g;e:if(Gi(this)){var T=hu(this.g);o="";var x=T.length,k=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var J="";break e}this.h.i=new p.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,au(this.i,this.u,this.A,this.l,this.R,ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,_e=this.g;if((Vt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Vt)){var Nt=Vt;break e}}Nt=null}if(g=Nt)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,g);else{this.o=!1,this.s=3,se(12),We(this),rn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<J.length;)if(Me=Qi(this,J),Me==xr){ve==4&&(this.s=4,se(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ji){this.s=4,se(15),Hi(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Me,null),an(this,Me);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||J.length!=0||this.h.h||(this.s=1,se(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,J,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Qr(Ce),Ce.M=!0,se(11))}}else Hi(this.i,this.l,J,null),an(this,J);ve==4&&We(this),this.o&&!this.J&&(ve==4?pu(this.j,this):(this.o=!1,$t(this)))}else vc(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),rn(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?xr:(g=Number(m.substring(g,T)),isNaN(g)?ji:(T+=1,T+g>m.length?xr:(m=m.slice(T,T+g),o.C=T+g,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function $t(o){o.S=Date.now()+o.I,Is(o,o.I)}function Is(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(B(o.ba,o),m)}function Sa(o){o.B&&(p.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(Pi(),se(17)),We(this),this.s=2,rn(this)):Is(this,this.S-o)};function rn(o){o.j.G==0||o.J||pu(o.j,o)}function We(o){Sa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Fi(g.h,o))){if(!o.K&&Fi(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ma(g),Oa(g);else break t;js(g),se(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=ki(B(g.Za,g),6e3));if(1>=su(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else mi(g,11)}else if((o.K||g.g==o)&&Ma(g),!at(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let Nt=x[m];if(g.T=Nt[0],Nt=Nt[1],g.G==2)if(Nt[0]=="c"){g.K=Nt[1],g.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const ve=Nt[4];ve!=null&&(g.Aa=ve,g.j.info("SVER="+g.Aa));const gi=Nt[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Yi(k,k.h),k.h=null))}if(T.D){const Qs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,Lt(T.I,T.D,Qs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var J=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),J.K){mn(T.h,J);var Vt=J,_e=T.L;_e&&(Vt.I=_e),Vt.B&&(Sa(Vt),$t(Vt)),T.g=J}else mu(T);0<g.i.length&&Ia(g)}else Nt[0]!="stop"&&Nt[0]!="close"||mi(g,7);else g.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?mi(g,7):qs(g):Nt[0]!="noop"&&g.l&&g.l.ta(Nt),g.v=0)}}Pi(4)}catch{}}var mc=class{constructor(o,m){this.g=o,this.map=m}};function Ms(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function su(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return $(o.i)}function lu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function gc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Lr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=gc(o),T=lu(o),x=T.length,k=0;k<x;k++)m.call(void 0,T[k],g&&g[k],o)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),x=null;if(0<=T){var k=o[g].substring(0,T);x=o[g].substring(T+1)}else k=o[g];m(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function oi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof oi){this.h=o.h,Ki(this,o.j),this.o=o.o,this.g=o.g,zr(this,o.s),this.l=o.l;var m=o.i,g=new qn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Ra(this,g),this.m=o.m}else o&&(m=String(o).match(xs))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),zr(this,m[4]),this.l=Xi(m[5]||"",!0),Ra(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}oi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,Ls,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,Ls,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(gn(g,g.charAt(0)=="/"?zs:uu,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",gn(g,_c)),o.join("")};function ne(o){return new oi(o)}function Ki(o,m,g){o.j=g?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function zr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ra(o,m,g){m instanceof qn?(o.i=m,Bs(o.i,o.h)):(g||(m=gn(m,yc)),o.i=new qn(m,o.h))}function Lt(o,m,g){o.i.set(m,g)}function Br(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,pc),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function pc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,uu=/[#\?:]/g,zs=/[#\?]/g,yc=/[#\?@]/g,_c=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=qn.prototype,s.add=function(o,m){pn(this),this.i=null,o=fi(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function wa(o,m){pn(o),m=fi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return pn(o),m=fi(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(g,T){g.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=o[T];for(let k=0;k<x.length;k++)g.push(m[T])}return g},s.V=function(o){pn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(fi(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return pn(this),this.i=null,o=fi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function hi(o,m,g){wa(o,m),0<g.length&&(o.i=null,o.g.set(fi(o,m),$(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var x=k;J[T]!==""&&(x+="="+encodeURIComponent(String(J[T]))),o.push(x)}}return this.i=o.join("&")};function fi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Bs(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(wa(this,T),hi(this,x,g))},o)),o.j=m}function ou(o,m){const g=new qi;if(p.Image){const T=new Image;T.onload=j(yn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,g,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Pr(o,m){const g=new qi,T=new AbortController,x=setTimeout(()=>{T.abort(),yn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(x),k.ok?yn(g,"TestPingServer: ok",!0,m):yn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),yn(g,"TestPingServer: error",!1,m)})}function yn(o,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function kr(){this.g=new Ye}function Hn(o,m,g){const T=g||"";try{Lr(o,function(x,k){let J=x;v(x)&&(J=Cs(x)),m.push(T+k+"="+encodeURIComponent(J))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}F(Zi,Vs),Zi.prototype.g=function(){return new di(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function di(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(di,pe),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function De(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=ks(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Lt(o,m,g))}function qt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qt,pe);var Da=/^https?$/i,qr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?eu(this.o):eu(Ur),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){cu(this,k);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),x=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,J]of g)this.g.setRequestHeader(k,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){cu(this,k)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Qn(o)}function Ca(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)tu(o.Ea,0,o);else if(Re(o,"readystatechange"),_n(o)==4){o.h=!1;try{const J=o.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=J===0){var x=String(o.D).match(xs)[1]||null;!x&&p.self&&p.self.location&&(x=p.self.location.protocol.slice(0,-1)),T=!Da.test(x?x.toLowerCase():"")}g=T}if(g)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var k=2<_n(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ca(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Hr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{g.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(at(o[T]))continue;var g=O(o[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[x]||[];m[x]=k,k.push(g)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Na(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,o),this.cb=jr("retryDelaySeedMs",1e4,o),this.Wa=jr("forwardChannelMaxRetries",2,o),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Na.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){se(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Ia(this)};function qs(o){if(fu(o),o.G==3){var m=o.U++,g=ne(o.I);if(Lt(g,"SID",o.K),Lt(g,"RID",m),Lt(g,"TYPE","terminate"),Gr(o,g),m=new kn(o,o.j,m),m.L=2,m.v=Br(ne(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}yu(o)}function Oa(o){o.g&&(Qr(o),o.g.cancel(),o.g=null)}function fu(o){Oa(o),o.u&&(p.clearTimeout(o.u),o.u=null),Ma(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ia(o){if(!Us(o.h)&&!o.s){o.s=!0;var m=o.Ga;ft||C(),ot||(ft(),ot=!0),kt.add(m,o),o.B=0}}function Ec(o,m){return su(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(B(o.Ga,o,m),Gs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new kn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=R(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=du(this,x,m),g=ne(this.I),Lt(g,"RID",o),Lt(g,"CVER",22),this.D&&Lt(g,"X-HTTP-Session-Id",this.D),Gr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(ks(k)))+"&"+m:this.m&&De(g,this.m,k)),Yi(this.h,x),this.Ua&&Lt(g,"TYPE","init"),this.P?(Lt(g,"$req",m),Lt(g,"SID","null"),x.T=!0,On(x,g,null)):On(x,g,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||Us(this.h)||Hs(this))};function Hs(o,m){var g;m?g=m.l:g=o.U++;const T=ne(o.I);Lt(T,"SID",o.K),Lt(T,"RID",g),Lt(T,"AID",o.T),Gr(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new kn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,g),On(g,T,m)}function Gr(o,m){o.H&&Ut(o.H,function(g,T){Lt(m,T,g)}),o.l&&Lr({},function(g,T){Lt(m,T,g)})}function du(o,m,g){g=Math.min(o.i.length,g);var T=o.l?B(o.l.Na,o.l,o):null;t:{var x=o.i;let k=-1;for(;;){const J=["count="+g];k==-1?0<g?(k=x[0].g,J.push("ofs="+k)):k=0:J.push("ofs="+k);let Vt=!0;for(let _e=0;_e<g;_e++){let Nt=x[_e].g;const Ce=x[_e].map;if(Nt-=k,0>Nt)k=Math.max(0,x[_e].g-100),Vt=!1;else try{Hn(Ce,J,"req"+Nt+"_")}catch{T&&T(Ce)}}if(Vt){T=J.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ft||C(),ot||(ft(),ot=!0),kt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(B(o.Fa,o),Gs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(B(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Oa(this),gu(this))};function Qr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),Gr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Br(ne(m)),g.m=null,g.P=!0,ui(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Oa(this),js(this),se(19))};function Ma(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function pu(o,m){var g=null;if(o.g==m){Ma(o),Qr(o),o.g=null;var T=2}else if(Fi(o.h,m))g=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ea(),Re(T,new iu(T,g)),Ia(o)}else mu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&Ec(o,m)||T==2&&js(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),x){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Gs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var g=B(o.fb,o),T=o.Xa;const x=!T;T=new oi(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ki(T,"https"),Br(T),x?ou(T.toString(),g):Pr(T.toString(),g)}else se(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,$(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,g){var T=g instanceof oi?ne(g):new oi(g);if(T.g!="")m&&(T.g=m+"."+T.g),zr(T,T.s);else{var x=p.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var k=new oi(null);T&&Ki(k,T),m&&(k.g=m),x&&zr(k,x),g&&(k.l=g),T=k}return g=o.D,m=o.ya,g&&m&&Lt(T,g,m),Lt(T,"VER",o.la),Gr(o,T),T}function vu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Zi({eb:g})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Na(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!at(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}F(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){qs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Cs(o),o=g);m.i.push(new mc(m.Ya++,o)),m.G==3&&Ia(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Xe.aa.N.call(this)};function Tu(o){zi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}F(Tu,zi);function Au(){Nn.call(this),this.status=1}F(Au,Nn);function Fn(o){this.g=o}F(Fn,Eu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Tu(o))},Fn.prototype.sa=function(o){Re(this.g,new Au)},Fn.prototype.ra=function(){Re(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,u_=function(){return new Ua},l_=function(){return Ea()},s_=dn,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Do=ye,li.COMPLETE="complete",a_=li,nu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ml=nu,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,r_=qt}).apply(typeof To<"u"?To:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore",$p="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new $y("@firebase/firestore");function ls(){return fa.logLevel}function nt(s,...e){if(fa.logLevel<=Mt.DEBUG){const i=e.map(Zf);fa.debug(`Firestore (${Ts}): ${s}`,...i)}}function Ii(s,...e){if(fa.logLevel<=Mt.ERROR){const i=e.map(Zf);fa.error(`Firestore (${Ts}): ${s}`,...i)}}function ds(s,...e){if(fa.logLevel<=Mt.WARN){const i=e.map(Zf);fa.warn(`Firestore (${Ts}): ${s}`,...i)}}function Zf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s="Unexpected state"){const e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function Ht(s,e){s||dt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class QT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class FT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Tr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new o_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class YT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new YT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,VT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new Jp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=ZT(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function Of(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return bt(a,u);{const h=c_(),d=$T(h.encode(Wp(s,i)),h.encode(Wp(e,i)));return d!==0?d:bt(a,u)}}i+=a>65535?2:1}return bt(s.length,e.length)}function Wp(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function $T(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function ms(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-62135596800,ey=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ey);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ty)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ey}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Se(0,0))}static max(){return new gt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(),a===void 0?a=e.length-i:a>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Of(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Zt extends Wn{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const JT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return JT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ny}static keyField(){return new Be([ny])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Zt.fromString(e))}static fromName(e){return new ct(Zt.fromString(e).popFirst(5))}static empty(){return new ct(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function WT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new br(u,ct.empty(),e)}function tA(s){return new br(s.readTime,s.key,Hl)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(gt.min(),ct.empty(),Hl)}static max(){return new br(gt.max(),ct.empty(),Hl)}}function eA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==nA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(b=>{d[v]=b,++p,p===h&&a(d)},b=>u(b))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function rA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ss(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;function Zo(s){return s==null}function zo(s){return s===0&&1/s==-1/0}function aA(s){return typeof s=="number"&&Number.isInteger(s)&&!zo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function sA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=iy(e)),e=lA(s.get(i),e);return iy(e)}function lA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case f_:i+="";break;default:i+=h}}return i}function iy(s){return s+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function d_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ao(this.root,e,this.comparator,!0)}}class Ao{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new hn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new m_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const uA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=uA.exec(s);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",p_="__type__",y_="__previous_value__",__="__local_write_time__";function Jf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[p_])===null||i===void 0?void 0:i.stringValue)===g_}function $o(s){const e=s.mapValue.fields[y_];return Jf(e)?$o(e):e}function jl(s){const e=Rr(s.mapValue.fields[__].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i,a,u,h,d,p,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v}}const Bo="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Bo}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Bo}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__type__",cA="__max__",So={mapValue:{}},E_="__vector__",Po="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jf(s)?4:fA(s)?9007199254740991:hA(s)?10:11:dt()}function ni(s,e){if(s===e)return!0;const i=Dr(s);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Rr(u.timestampValue),p=Rr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return wr(u.bytesValue).isEqual(wr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),p=ue(h.doubleValue);return d===p?zo(d)===zo(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return ms(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(ry(d)!==ry(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ni(d[_],p[_])))return!1;return!0}(s,e);default:return dt()}}function Ql(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function gs(s,e){if(s===e)return 0;const i=Dr(s),a=Dr(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return sy(s.timestampValue,e.timestampValue);case 4:return sy(jl(s),jl(e));case 5:return Of(s.stringValue,e.stringValue);case 6:return function(h,d){const p=wr(h),_=wr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const b=bt(p[v],_[v]);if(b!==0)return b}return bt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=bt(ue(h.latitude),ue(d.latitude));return p!==0?p:bt(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ly(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,b;const I=h.fields||{},B=d.fields||{},j=(p=I[Po])===null||p===void 0?void 0:p.arrayValue,F=(_=B[Po])===null||_===void 0?void 0:_.arrayValue,$=bt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((b=F==null?void 0:F.values)===null||b===void 0?void 0:b.length)||0);return $!==0?$:ly(j,F)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===So.mapValue&&d===So.mapValue)return 0;if(h===So.mapValue)return 1;if(d===So.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},b=Object.keys(v);_.sort(),b.sort();for(let I=0;I<_.length&&I<b.length;++I){const B=Of(_[I],b[I]);if(B!==0)return B;const j=gs(p[_[I]],v[b[I]]);if(j!==0)return j}return bt(_.length,b.length)}(s.mapValue,e.mapValue);default:throw dt()}}function sy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=Rr(s),a=Rr(e),u=bt(i.seconds,a.seconds);return u!==0?u:bt(i.nanos,a.nanos)}function ly(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=gs(i[u],a[u]);if(h)return h}return bt(i.length,a.length)}function ps(s){return If(s)}function If(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return wr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=If(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${If(i.fields[d])}`;return u+"}"}(s.mapValue):dt()}function Co(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$o(s);return e?16+Co(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Co(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Nr(a.fields,(h,d)=>{u+=h.length+Co(d)}),u}(s.mapValue);default:throw dt()}}function Mf(s){return!!s&&"integerValue"in s}function Wf(s){return!!s&&"arrayValue"in s}function uy(s){return!!s&&"nullValue"in s}function oy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vo(s){return!!s&&"mapValue"in s}function hA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[v_])===null||i===void 0?void 0:i.stringValue)===E_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function fA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Vo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Vo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Vo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(Ll(this.value))}}function T_(s){const e=[];return Nr(s.fields,(i,a)=>{const u=new Be([i]);if(Vo(a)){const h=T_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,gt.min(),gt.min(),gt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,gt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,gt.min(),gt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,gt.min(),gt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.position=e,this.inclusive=i}}function cy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=gs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function hy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i="asc"){this.field=e,this.dir=i}}function dA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{}class Ae extends A_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new gA(e,i,a):i==="array-contains"?new _A(e,a):i==="in"?new vA(e,a):i==="not-in"?new EA(e,a):i==="array-contains-any"?new TA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new pA(e,a):new yA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(gs(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends A_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return S_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function S_(s){return s.op==="and"}function b_(s){return mA(s)&&S_(s)}function mA(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Uf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ps(s.value);if(b_(s))return s.filters.map(e=>Uf(e)).join(",");{const e=s.filters.map(i=>Uf(i)).join(",");return`${s.op}(${e})`}}function R_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ni(a.value,u.value)}(s,e):s instanceof ii?function(a,u){return u instanceof ii&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&R_(d,u.filters[p]),!0):!1}(s,e):void dt()}function w_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(s):s instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(w_).join(" ,")+"}"}(s):"Filter"}class gA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class pA extends Ae{constructor(e,i){super(e,"in",i),this.keys=D_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class yA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=D_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function D_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class _A extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wf(i)&&Ql(i.arrayValue,this.value)}}class vA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class EA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Ql(this.value.arrayValue,i)}}class TA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ql(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function fy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new AA(s,e,i,a,u,h,d)}function td(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Uf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Zo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ps(a)).join(",")),e.le=i}return e.le}function ed(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!dA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!R_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!hy(s.startAt,e.startAt)&&hy(s.endAt,e.endAt)}function xf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SA(s,e,i,a,u,h,d,p){return new Jo(s,e,i,a,u,h,d,p)}function C_(s){return new Jo(s)}function dy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bA(s){return s.collectionGroup!==null}function zl(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new qo(h,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new qo(Be.keyField(),a))}return e.he}function ti(s){const e=yt(s);return e.Pe||(e.Pe=RA(e,zl(s))),e.Pe}function RA(s,e){if(s.limitType==="F")return fy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new qo(u.field,h)});const i=s.endAt?new ko(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ko(s.startAt.position,s.startAt.inclusive):null;return fy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Lf(s,e,i){return new Jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Wo(s,e){return ed(ti(s),ti(e))&&s.limitType===e.limitType}function V_(s){return`${td(ti(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>w_(u)).join(", ")}]`),Zo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ps(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ps(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function tc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of zl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=cy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,p,_){const v=cy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function wA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const h=DA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function DA(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?gs(_,v):dt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return d_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new te(ct.comparator);function Mi(){return CA}const O_=new te(ct.comparator);function Ul(...s){let e=O_;for(const i of s)e=e.insert(i.key,i);return e}function I_(s){let e=O_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ha(){return Bl()}function M_(){return Bl()}function Bl(){return new ga(s=>s.toString(),(s,e)=>s.isEqual(e))}const VA=new te(ct.comparator),NA=new be(ct.comparator);function Dt(...s){let e=NA;for(const i of s)e=e.add(i);return e}const OA=new be(bt);function IA(){return OA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zo(e)?"-0":e}}function U_(s){return{integerValue:""+s}}function MA(s,e){return aA(e)?U_(e):nd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function UA(s,e,i){return s instanceof Ho?function(u,h){const d={fields:{[p_]:{stringValue:g_},[__]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Jf(h)&&(h=$o(h)),h&&(d.fields[y_]=h),{mapValue:d}}(i,e):s instanceof Fl?L_(s,e):s instanceof Yl?z_(s,e):function(u,h){const d=x_(u,h),p=my(d)+my(u.Ie);return Mf(d)&&Mf(u.Ie)?U_(p):nd(u.serializer,p)}(s,e)}function xA(s,e,i){return s instanceof Fl?L_(s,e):s instanceof Yl?z_(s,e):i}function x_(s,e){return s instanceof jo?function(a){return Mf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ho extends ec{}class Fl extends ec{constructor(e){super(),this.elements=e}}function L_(s,e){const i=B_(e);for(const a of s.elements)i.some(u=>ni(u,a))||i.push(a);return{arrayValue:{values:i}}}class Yl extends ec{constructor(e){super(),this.elements=e}}function z_(s,e){let i=B_(e);for(const a of s.elements)i=i.filter(u=>!ni(u,a));return{arrayValue:{values:i}}}class jo extends ec{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function my(s){return ue(s.integerValue||s.doubleValue)}function B_(s){return Wf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function LA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Yl&&u instanceof Yl?ms(a.elements,u.elements,ni):a instanceof jo&&u instanceof jo?ni(a.Ie,u.Ie):a instanceof Ho&&u instanceof Ho}(s.transform,e.transform)}class zA{constructor(e,i){this.version=e,this.transformResults=i}}class Ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nc{}function P_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new id(s.key,Ln.none()):new Kl(s.key,s.data,Ln.none());{const i=s.data,a=nn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Or(s.key,a,new hn(u.toArray()),Ln.none())}}function BA(s,e,i){s instanceof Kl?function(u,h,d){const p=u.value.clone(),_=py(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Or?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=py(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(k_(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Kl?function(h,d,p,_){if(!No(h.precondition,d))return p;const v=h.value.clone(),b=yy(h.fieldTransforms,_,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Or?function(h,d,p,_){if(!No(h.precondition,d))return p;const v=yy(h.fieldTransforms,_,d),b=d.data;return b.setAll(k_(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,p){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function PA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=x_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function gy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ms(a,u,(h,d)=>LA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends nc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Or extends nc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function k_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function py(s,e,i){const a=new Map;Ht(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,xA(d,p,i[u]))}return a}function yy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,UA(h,d,e))}return a}class id extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&BA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=M_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=P_(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(gt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,a)=>gy(i,a))&&ms(this.baseMutations,e.baseMutations,(i,a)=>gy(i,a))}}class rd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length);let u=function(){return VA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new rd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,It;function GA(s){switch(s){case K.OK:return dt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt()}}function q_(s){if(s===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(s){case me.OK:return K.OK;case me.CANCELLED:return K.CANCELLED;case me.UNKNOWN:return K.UNKNOWN;case me.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case me.INTERNAL:return K.INTERNAL;case me.UNAVAILABLE:return K.UNAVAILABLE;case me.UNAUTHENTICATED:return K.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case me.NOT_FOUND:return K.NOT_FOUND;case me.ALREADY_EXISTS:return K.ALREADY_EXISTS;case me.PERMISSION_DENIED:return K.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case me.ABORTED:return K.ABORTED;case me.OUT_OF_RANGE:return K.OUT_OF_RANGE;case me.UNIMPLEMENTED:return K.UNIMPLEMENTED;case me.DATA_LOSS:return K.DATA_LOSS;default:return dt()}}(It=me||(me={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Er([4294967295,4294967295],0);function _y(s){const e=c_().encode(s),i=new i_;return i.update(e),new Uint8Array(i.digest())}function vy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,a],0),new Er([u,h],0)]}class ad{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Er.fromNumber(a)));return u.compare(QA)===1&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=_y(e),[a,u]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ad(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=_y(e),[a,u]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ic(gt.min(),u,new te(bt),Mi(),Dt())}}class Xl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class H_{constructor(e,i){this.targetId=e,this.ge=i}}class j_{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ey{constructor(){this.pe=0,this.ye=Ty(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt()}}),new Xl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Ty()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mi(),this.$e=bo(),this.Ue=bo(),this.Ke=new te(bt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(xf(h))if(a===0){const d=new ct(h.path);this.ze(i,d,Qe.newNoDocument(d,gt.min()))}else Ht(a===1);else{const d=this.et(i);if(d!==a){const p=this.tt(e),_=p?this.nt(p,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=wr(a).toUint8Array()}catch(_){if(_ instanceof m_)return ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ad(d,u,h)}catch(_){return ds(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.Ee===0?null:p}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&xf(p.target)){const _=new ct(p.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Dt();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ic(e,i,this.Ke,this.Qe,a);return this.Qe=Mi(),this.$e=bo(),this.Ue=bo(),this.Ke=new te(bt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ey,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(bt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(bt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ey),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function bo(){return new te(ct.comparator)}function Ty(){return new te(ct.comparator)}const YA={asc:"ASCENDING",desc:"DESCENDING"},KA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"};class ZA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zf(s,e){return s.useProto3Json||Zo(e)?e:{value:e}}function Go(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $A(s,e){return Go(s,e.toTimestamp())}function ei(s){return Ht(!!s),gt.fromTimestamp(function(i){const a=Rr(i);return new Se(a.seconds,a.nanos)}(s))}function sd(s,e){return Bf(s,e).canonicalString()}function Bf(s,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Q_(s){const e=Zt.fromString(s);return Ht(Z_(e)),e}function Pf(s,e){return sd(s.databaseId,e.path)}function Tf(s,e){const i=Q_(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Y_(i))}function F_(s,e){return sd(s.databaseId,e)}function JA(s){const e=Q_(s);return e.length===4?Zt.emptyPath():Y_(e)}function kf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Y_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ay(s,e,i){return{name:Pf(s,e),fields:i.value.mapValue.fields}}function WA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,b){return v.useProto3Json?(Ht(b===void 0||typeof b=="string"),Pe.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Pe.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const b=v.code===void 0?K.UNKNOWN:q_(v.code);return new ut(b,v.message||"")}(d);i=new j_(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Tf(s,a.document.name),h=ei(a.document.updateTime),d=a.document.createTime?ei(a.document.createTime):gt.min(),p=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,p),v=a.targetIds||[],b=a.removedTargetIds||[];i=new Oo(v,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Tf(s,a.document),h=a.readTime?ei(a.readTime):gt.min(),d=Qe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Oo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Tf(s,a.document),h=a.removedTargetIds||[];i=new Oo([],h,u,null)}else{if(!("filter"in e))return dt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new jA(u,h),p=a.targetId;i=new H_(p,d)}}return i}function tS(s,e){let i;if(e instanceof Kl)i={update:Ay(s,e.key,e.value)};else if(e instanceof id)i={delete:Pf(s,e.key)};else if(e instanceof Or)i={update:Ay(s,e.key,e.data),updateMask:oS(e.fieldMask)};else{if(!(e instanceof kA))return dt();i={verify:Pf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw dt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:$A(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt()}(s,e.precondition)),i}function eS(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(gt.min())&&(d=ei(h)),new zA(d,u.transformResults||[])}(i,e))):[]}function nS(s,e){return{documents:[F_(s,e.path)]}}function iS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=F_(s,u);const h=function(v){if(v.length!==0)return X_(ii.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(b=>function(B){return{field:os(B.field),direction:sS(B.dir)}}(b))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=zf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function rS(s){let e=JA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1);const b=i.from[0];b.allDescendants?u=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=function(I){const B=K_(I);return B instanceof ii&&b_(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(B=>function(F){return new qo(cs(F.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(B))}(i.orderBy));let p=null;i.limit&&(p=function(I){let B;return B=typeof I=="object"?I.value:I,Zo(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(I){const B=!!I.before,j=I.values||[];return new ko(j,B)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const B=!I.before,j=I.values||[];return new ko(j,B)}(i.endAt)),SA(e,u,d,h,p,"F",_,v)}function aS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function K_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(a=>K_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(s):dt()}function sS(s){return YA[s]}function lS(s){return KA[s]}function uS(s){return XA[s]}function os(s){return{fieldPath:s.canonicalString()}}function cs(s){return Be.fromServerFormat(s.fieldPath)}function X_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(oy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(uy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(oy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(uy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:lS(i.op),value:i.value}}}(s):s instanceof ii?function(i){const a=i.getFilters().map(u=>X_(u));return a.length===1?a[0]:{compositeFilter:{op:uS(i.op),filters:a}}}(s):dt()}function oS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Z_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,u,h=gt.min(),d=gt.min(),p=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.Tt=e}}function hS(s){const e=rS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Tn=new dS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(br.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class dS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en($_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ys(0)}static Kn(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="LruGarbageCollector",mS=1048576;function Ry([s,e],[i,a]){const u=bt(s,i);return u===0?bt(e,a):u}class gS{constructor(e){this.Hn=e,this.buffer=new be(Ry),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ry(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(by,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ss(i)?nt(by,"Ignoring IndexedDB error during garbage collection: ",i):await As(i)}await this.er(3e5)})}}class yS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Xo.ae);const a=new gS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Sy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,p,_,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,p=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),ls()<=Mt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-b}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function _S(s,e){return new yS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.changes=new ga(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Pl(a.mutation,u,hn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=ha();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ul();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ha();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Mi();const d=Bl(),p=function(){return Bl()}();return i.forEach((_,v)=>{const b=a.get(v.key);u.has(v.key)&&(b===void 0||b.mutation instanceof Or)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),Pl(b.mutation,v,b.mutation.getFieldMask(),Se.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,b)=>d.set(v,b)),i.forEach((v,b)=>{var I;return p.set(v,new ES(b,(I=d.get(v))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new te((d,p)=>d-p),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let b=a.get(_)||hn.empty();b=p.applyToLocalView(v,b),a.set(_,b);const I=(u.get(p.batchId)||Dt()).add(_);u=u.insert(p.batchId,I)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,b=_.value,I=M_();b.forEach(B=>{if(!h.has(B)){const j=P_(i.get(B),a.get(B));j!==null&&I.set(B,j),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(ha());let p=Hl,_=h;return d.next(v=>Q.forEach(v,(b,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),h.get(b)?Q.resolve():this.remoteDocumentCache.getEntry(e,b).next(B=>{_=_.insert(b,B)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(b=>({batchId:p,changes:I_(b)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let u=Ul();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,h).next(p=>Q.forEach(p,_=>{const v=function(I,B){return new Jo(B,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(b=>{b.forEach((I,B)=>{d=d.insert(I,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,Qe.newInvalidDocument(b)))});let p=Ul();return d.forEach((_,v)=>{const b=h.get(_);b!==void 0&&Pl(b.mutation,v,hn.empty(),Se.now()),tc(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:hS(u.bundledQuery),readTime:ei(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.overlays=new te(ct.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ha();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=ha(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new te((v,b)=>v-b);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=h.get(v.largestBatchId);b===null&&(b=ha(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=ha(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,b)=>p.set(v,b)),!(p.size()>=u)););return Q.resolve(p)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new HA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Dt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.Vr=new be(Ie.mr),this.gr=new be(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ct(new Zt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ct(new Zt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Dt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ct.comparator(e.key,i.key)||bt(e.Cr,i.Cr)}static pr(e,i){return bt(e.Cr,i.Cr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ie.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Mr=this.Mr.add(new Ie(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?$f:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const p=this.Or(d.Cr);h.push(p)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(bt);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ct(h),0);let p=new be(bt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Cr)),!0)},d),Q.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.kr=e,this.docs=function(){return new te(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Mi();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:b}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||eA(tA(b),a)<=0||(u.has(b.key)||tc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new DS(this)}getSize(e){return Q.resolve(this.size)}}class DS extends vS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.persistence=e,this.Qr=new ga(i=>td(i),ed),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ld,this.targetCount=0,this.Kr=ys.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ys(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Xo(0),this.zr=!1,this.zr=!0,this.jr=new bS,this.referenceDelegate=e(this),this.Hr=new CS(this),this.indexManager=new fS,this.remoteDocumentCache=function(u){return new wS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new cS(i),this.Yr=new AS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new SS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new RS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new VS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class VS extends iA{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.ti=new ld,this.ni=null}static ri(e){return new ud(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ct.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,gt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Qo{constructor(e,i){this.persistence=e,this.oi=new ga(a=>sA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=_S(this,i)}static ri(e,i){return new Qo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,gt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Co(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new od(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return w0()?8:rA(b0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new NS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(ls()<=Mt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ls()<=Mt.DEBUG&&nt("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(ls()<=Mt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(dy(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Lf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,p);return this.ls(i,v,d,_.readTime)?this.rs(e,Lf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return dy(i)||u.isEqual(gt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(ls()<=Mt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.hs(e,d,i,WT(u,Hl)).next(p=>p))})}cs(e,i){let a=new be(N_(e));return i.forEach((u,h)=>{tc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return ls()<=Mt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",us(i)),this.ns.getDocumentsMatchingQuery(e,i,br.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="LocalStore",IS=3e8;class MS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(bt),this.Is=new ga(h=>td(h),ed),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function US(s,e,i,a){return new MS(s,e,i,a)}async function W_(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}for(const v of h){p.push(v.batchId);for(const b of v.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function xS(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,_,v,b){const I=v.batch,B=I.keys();let j=Q.resolve();return B.forEach(F=>{j=j.next(()=>b.getEntry(_,F)).next($=>{const X=v.docVersions.get(F);Ht(X!==null),$.version.compareTo(X)<0&&(I.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),b.addEntry($)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Dt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function tv(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function LS(s,e){const i=yt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const p=[];e.targetChanges.forEach((b,I)=>{const B=u.get(I);if(!B)return;p.push(i.Hr.removeMatchingKeys(h,b.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(h,b.addedDocuments,I)));let j=B.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?j=j.withResumeToken(Pe.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,a)),u=u.insert(I,j),function($,X,mt){return $.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=IS?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(B,j,b)&&p.push(i.Hr.updateTargetData(h,j))});let _=Mi(),v=Dt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))}),p.push(zS(h,d,e.documentUpdates).next(b=>{_=b.Vs,v=b.fs})),!a.isEqual(gt.min())){const b=i.Hr.getLastRemoteSnapshotVersion(h).next(I=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(b)}return Q.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function zS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Mi();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(gt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):nt(cd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function BS(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=$f),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function PS(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function qf(s,e,i){const a=yt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ss(d))throw d;nt(cd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function wy(s,e,i){const a=yt(s);let u=gt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,b){const I=yt(_),B=I.Is.get(b);return B!==void 0?Q.resolve(I.Ts.get(B)):I.Hr.getTargetData(v,b)}(a,d,ti(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:gt.min(),i?h:Dt())).next(p=>(kS(a,wA(e),p),{documents:p,gs:h})))}function kS(s,e,i){let a=s.Es.get(e)||gt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Dy{constructor(){this.activeTargetIds=IA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.ho=new Dy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Dy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Vy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=null;function Hf(){return Ro===null?Ro=function(){return 268435456+Math.round(2147483648*Math.random())}():Ro++,"0x"+Ro.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="RestConnection",jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Bo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Hf(),p=this.bo(e,i.toUriEncodedString());nt(Af,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,p,_,a).then(v=>(nt(Af,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ds(Af,`RPC '${e}' ${d} failed with error: `,v,"url: ",p,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ts}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=jS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class FS extends GS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Hf();return new Promise((d,p)=>{const _=new r_;_.setWithCredentials(!0),_.listenOnce(a_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Do.NO_ERROR:const b=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Do.TIMEOUT:nt(je,`RPC '${e}' ${h} timed out`),p(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const I=_.getStatus();if(nt(je,`RPC '${e}' ${h} failed with status:`,I,"response text:",_.getResponseText()),I>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B==null?void 0:B.error;if(j&&j.status&&j.message){const F=function(X){const mt=X.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(mt)>=0?mt:K.UNKNOWN}(j.status);p(new ut(F,j.message))}else p(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ut(K.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Hf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=u_(),p=l_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=h.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${b}`,_);const I=d.createWebChannel(b,_);let B=!1,j=!1;const F=new QS({Fo:X=>{j?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(B||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),I.open(),B=!0),nt(je,`RPC '${e}' stream ${u} sending:`,X),I.send(X))},Mo:()=>I.close()}),$=(X,mt,at)=>{X.listen(mt,Tt=>{try{at(Tt)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return $(I,Ml.EventType.OPEN,()=>{j||(nt(je,`RPC '${e}' stream ${u} transport opened.`),F.Qo())}),$(I,Ml.EventType.CLOSE,()=>{j||(j=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),F.Uo())}),$(I,Ml.EventType.ERROR,X=>{j||(j=!0,ds(je,`RPC '${e}' stream ${u} transport errored:`,X),F.Uo(new ut(K.UNAVAILABLE,"The operation could not be completed")))}),$(I,Ml.EventType.MESSAGE,X=>{var mt;if(!j){const at=X.data[0];Ht(!!at);const Tt=at,Ft=(Tt==null?void 0:Tt.error)||((mt=Tt[0])===null||mt===void 0?void 0:mt.error);if(Ft){nt(je,`RPC '${e}' stream ${u} received error:`,Ft);const _t=Ft.status;let Ut=function(A){const D=me[A];if(D!==void 0)return q_(D)}(_t),M=Ft.message;Ut===void 0&&(Ut=K.INTERNAL,M="Unknown error status: "+_t+" with message "+Ft.message),j=!0,F.Uo(new ut(Ut,M)),I.close()}else nt(je,`RPC '${e}' stream ${u} received:`,at),F.Ko(at)}}),$(p,s_.STAT_EVENT,X=>{X.stat===Nf.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===Nf.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function Sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){return new ZA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="PersistentStream";class nv{constructor(e,i,a,u,h,d,p,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ev(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Ny,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Ny,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YS extends nv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=WA(this.serializer,e),a=function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?ei(d.readTime):gt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=kf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=xf(_)?{documents:nS(h,_)}:{query:iS(h,_).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=G_(h,d.resumeToken);const v=zf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){p.readTime=Go(h,d.snapshotVersion.toTimestamp());const v=zf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=aS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=kf(this.serializer),i.removeTarget=e,this.I_(i)}}class KS extends nv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=eS(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=kf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>tS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class ZS extends XS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Bf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Bf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class JS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{pa(this)&&(nt(da,"Restarting streams for network reachability change."),await async function(_){const v=yt(_);v.W_.add(4),await Zl(v),v.j_.set("Unknown"),v.W_.delete(4),await ac(v)}(this))})}),this.j_=new $S(a,u)}}async function ac(s){if(pa(s))for(const e of s.G_)await e(!0)}async function Zl(s){for(const e of s.G_)await e(!1)}function iv(s,e){const i=yt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),md(i)?dd(i):bs(i).c_()&&fd(i,e))}function hd(s,e){const i=yt(s),a=bs(i);i.K_.delete(e),a.c_()&&rv(i,e),i.K_.size===0&&(a.c_()?a.P_():pa(i)&&i.j_.set("Unknown"))}function fd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bs(s).y_(e)}function rv(s,e){s.H_.Ne(e),bs(s).w_(e)}function dd(s){s.H_=new FA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),bs(s).start(),s.j_.B_()}function md(s){return pa(s)&&!bs(s).u_()&&s.K_.size>0}function pa(s){return yt(s).W_.size===0}function av(s){s.H_=void 0}async function WS(s){s.j_.set("Online")}async function t1(s){s.K_.forEach((e,i)=>{fd(s,e)})}async function e1(s,e){av(s),md(s)?(s.j_.q_(e),dd(s)):s.j_.set("Unknown")}async function n1(s,e,i){if(s.j_.set("Online"),e instanceof j_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.K_.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.K_.delete(p),u.H_.removeTarget(p))}(s,e)}catch(a){nt(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Fo(s,a)}else if(e instanceof Oo?s.H_.We(e):e instanceof H_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(gt.min()))try{const a=await tv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.K_.get(v);b&&h.K_.set(v,b.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const b=h.K_.get(_);if(!b)return;h.K_.set(_,b.withResumeToken(Pe.EMPTY_BYTE_STRING,b.snapshotVersion)),rv(h,_);const I=new yr(b.target,_,v,b.sequenceNumber);fd(h,I)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){nt(da,"Failed to raise snapshot:",a),await Fo(s,a)}}async function Fo(s,e,i){if(!Ss(e))throw e;s.W_.add(1),await Zl(s),s.j_.set("Offline"),i||(i=()=>tv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(da,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ac(s)})}function sv(s,e){return e().catch(i=>Fo(s,i,e))}async function sc(s){const e=yt(s),i=Cr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:$f;for(;i1(e);)try{const u=await BS(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,r1(e,u)}catch(u){await Fo(e,u)}lv(e)&&uv(e)}function i1(s){return pa(s)&&s.U_.length<10}function r1(s,e){s.U_.push(e);const i=Cr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function lv(s){return pa(s)&&!Cr(s).u_()&&s.U_.length>0}function uv(s){Cr(s).start()}async function a1(s){Cr(s).C_()}async function s1(s){const e=Cr(s);for(const i of s.U_)e.b_(i.mutations)}async function l1(s,e,i){const a=s.U_.shift(),u=rd.from(a,e,i);await sv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await sc(s)}async function u1(s,e){e&&Cr(s).S_&&await async function(a,u){if(function(d){return GA(d)&&d!==K.ABORTED}(u.code)){const h=a.U_.shift();Cr(a).h_(),await sv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await sc(a)}}(s,e),lv(s)&&uv(s)}async function Oy(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),nt(da,"RemoteStore received new credentials");const a=pa(i);i.W_.add(3),await Zl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ac(i)}async function o1(s,e){const i=yt(s);e?(i.W_.delete(2),await ac(i)):e||(i.W_.add(2),await Zl(i),i.j_.set("Unknown"))}function bs(s){return s.J_||(s.J_=function(i,a,u){const h=yt(i);return h.M_(),new YS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:WS.bind(null,s),No:t1.bind(null,s),Lo:e1.bind(null,s),p_:n1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),md(s)?dd(s):s.j_.set("Unknown")):(await s.J_.stop(),av(s))})),s.J_}function Cr(s){return s.Y_||(s.Y_=function(i,a,u){const h=yt(i);return h.M_(),new KS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:a1.bind(null,s),Lo:u1.bind(null,s),D_:s1.bind(null,s),v_:l1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await sc(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(da,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new gd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),Ss(s))return new ut(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Z_=new te(ct.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class _s{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new _s(e,i,fs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class h1{constructor(){this.queries=My(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=yt(i),h=u.queries;u.queries=My(),h.forEach((d,p)=>{for(const _ of p.ta)_.onError(a)})})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function My(){return new ga(s=>V_(s),Wo)}async function f1(s,e){const i=yt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new c1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=pd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&yd(i)}async function d1(s,e){const i=yt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function m1(s,e){const i=yt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(u)&&(a=!0);d.ea=u}}a&&yd(i)}function g1(s,e,i){const a=yt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function yd(s){s.ia.forEach(e=>{e.next()})}var jf,Uy;(Uy=jf||(jf={}))._a="default",Uy.Cache="cache";class p1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new _s(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class y1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=N_(e),this.wa=new fs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Iy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((b,I)=>{const B=u.get(b),j=tc(this.query,I)?I:null,F=!!B&&this.mutatedKeys.has(B.key),$=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;B&&j?B.data.isEqual(j.data)?F!==$&&(a.track({type:3,doc:j}),X=!0):this.va(B,j)||(a.track({type:2,doc:j}),X=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(p=!0)):!B&&j?(a.track({type:0,doc:j}),X=!0):B&&!j&&(a.track({type:1,doc:B}),X=!0,(_||v)&&(p=!0)),X&&(j?(d=d.add(j),h=$?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{wa:d,Da:a,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((b,I)=>function(j,F){const $=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return $(j)-$(F)}(b.type,I.type)||this.ya(b.doc,I.doc)),this.Ca(a),u=u!=null&&u;const p=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new _s(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Iy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new cv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new ov(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return _s.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _d="SyncEngine";class _1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class v1{constructor(e){this.key=e,this.Ba=!1}}class E1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ga(p=>V_(p),Wo),this.qa=new Map,this.Qa=new Set,this.$a=new te(ct.comparator),this.Ua=new Map,this.Ka=new ld,this.Wa={},this.Ga=new Map,this.za=ys.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function T1(s,e,i=!0){const a=pv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await hv(a,e,i,!0),u}async function A1(s,e){const i=pv(s);await hv(i,e,!0,!1)}async function hv(s,e,i,a){const u=await PS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await S1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&iv(s.remoteStore,u),p}async function S1(s,e,i,a,u){s.Ha=(I,B,j)=>async function($,X,mt,at){let Tt=X.view.ba(mt);Tt.ls&&(Tt=await wy($.localStore,X.query,!1).then(({documents:M})=>X.view.ba(M,Tt)));const Ft=at&&at.targetChanges.get(X.targetId),_t=at&&at.targetMismatches.get(X.targetId)!=null,Ut=X.view.applyChanges(Tt,$.isPrimaryClient,Ft,_t);return Ly($,X.targetId,Ut.Ma),Ut.snapshot}(s,I,B,j);const h=await wy(s.localStore,e,!0),d=new y1(e,h.gs),p=d.ba(h.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);Ly(s,i,v.Ma);const b=new _1(e,i,d);return s.ka.set(e,b),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function b1(s,e,i){const a=yt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!Wo(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await qf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&hd(a.remoteStore,u.targetId),Gf(a,u.targetId)}).catch(As)):(Gf(a,u.targetId),await qf(a.localStore,u.targetId,!0))}async function R1(s,e){const i=yt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hd(i.remoteStore,a.targetId))}async function w1(s,e,i){const a=M1(s);try{const u=await function(d,p){const _=yt(d),v=Se.now(),b=p.reduce((j,F)=>j.add(F.key),Dt());let I,B;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let F=Mi(),$=Dt();return _.ds.getEntries(j,b).next(X=>{F=X,F.forEach((mt,at)=>{at.isValidDocument()||($=$.add(mt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,F)).next(X=>{I=X;const mt=[];for(const at of p){const Tt=PA(at,I.get(at.key).overlayedDocument);Tt!=null&&mt.push(new Or(at.key,Tt,T_(Tt.value.mapValue),Ln.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,mt,p)}).next(X=>{B=X;const mt=X.applyToLocalDocumentSet(I,$);return _.documentOverlayCache.saveOverlays(j,X.batchId,mt)})}).then(()=>({batchId:B.batchId,changes:I_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(bt)),v=v.insert(p,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await $l(a,u.changes),await sc(a.remoteStore)}catch(u){const h=pd(u,"Failed to persist write");i.reject(h)}}async function fv(s,e){const i=yt(s);try{const a=await LS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Ht(d.Ba):u.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await $l(i,a,e)}catch(a){await As(a)}}function xy(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=yt(d);_.onlineState=p;let v=!1;_.queries.forEach((b,I)=>{for(const B of I.ta)B.sa(p)&&(v=!0)}),v&&yd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function D1(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new te(ct.comparator);d=d.insert(h,Qe.newNoDocument(h,gt.min()));const p=Dt().add(h),_=new ic(gt.min(),new Map,new te(bt),d,p);await fv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),vd(a)}else await qf(a.localStore,e,!1).then(()=>Gf(a,e,i)).catch(As)}async function C1(s,e){const i=yt(s),a=e.batch.batchId;try{const u=await xS(i.localStore,e);mv(i,a,null),dv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await As(u)}}async function V1(s,e,i){const a=yt(s);try{const u=await function(d,p){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return _.mutationQueue.lookupMutationBatch(v,p).next(I=>(Ht(I!==null),b=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,b,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b)).next(()=>_.localDocuments.getDocuments(v,b))})}(a.localStore,e);mv(a,e,i),dv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await As(u)}}function dv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function mv(s,e,i){const a=yt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Gf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||gv(s,a)})}function gv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(hd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),vd(s))}function Ly(s,e,i){for(const a of i)a instanceof ov?(s.Ka.addReference(a.key,e),N1(s,a)):a instanceof cv?(nt(_d,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||gv(s,a.key)):dt()}function N1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(_d,"New document in limbo: "+i),s.Qa.add(a),vd(s))}function vd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ct(Zt.fromString(e)),a=s.za.next();s.Ua.set(a,new v1(i)),s.$a=s.$a.insert(i,a),iv(s.remoteStore,new yr(ti(C_(i.path)),a,"TargetPurposeLimboResolution",Xo.ae))}}async function $l(s,e,i){const a=yt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,_)=>{d.push(a.Ha(_,e,i).then(v=>{var b;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){u.push(v);const I=od.Yi(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const b=yt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,B=>Q.forEach(B.Hi,j=>b.persistence.referenceDelegate.addReference(I,B.targetId,j)).next(()=>Q.forEach(B.Ji,j=>b.persistence.referenceDelegate.removeReference(I,B.targetId,j)))))}catch(I){if(!Ss(I))throw I;nt(cd,"Failed to update sequence numbers: "+I)}for(const I of v){const B=I.targetId;if(!I.fromCache){const j=b.Ts.get(B),F=j.snapshotVersion,$=j.withLastLimboFreeSnapshotVersion(F);b.Ts=b.Ts.insert(B,$)}}}(a.localStore,h))}async function O1(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){nt(_d,"User change. New user:",e.toKey());const a=await W_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(_=>{_.reject(new ut(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Rs)}}function I1(s,e){const i=yt(s),a=i.Ua.get(e);if(a&&a.Ba)return Dt().add(a.key);{let u=Dt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const p=i.ka.get(d);u=u.unionWith(p.view.Sa)}return u}}function pv(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D1.bind(null,e),e.La.p_=m1.bind(null,e.eventManager),e.La.Ja=g1.bind(null,e.eventManager),e}function M1(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V1.bind(null,e),e}class Yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return US(this.persistence,new OS,e.initialUser,this.serializer)}Xa(e){return new J_(ud.ri,this.serializer)}Za(e){return new qS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yo.provider={build:()=>new Yo};class U1 extends Yo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof Qo);const a=this.persistence.referenceDelegate.garbageCollector;return new pS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new J_(a=>Qo.ri(a,i),this.serializer)}}class Qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=O1.bind(null,this.syncEngine),await o1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h1}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),a=function(h){return new FS(h)}(e.databaseInfo);return function(h,d,p,_){return new ZS(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new JS(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>xy(this.syncEngine,i,0),function(){return Vy.D()?new Vy:new HS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,b){const I=new E1(u,h,d,p,_,v);return b&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=yt(u);nt(da,"RemoteStore shutting down."),h.W_.add(5),await Zl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class L1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=pd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function bf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await W_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function zy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await z1(s);nt(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Oy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Oy(e.remoteStore,u)),s._onlineComponents=e}async function z1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Vr,"Using user provided OfflineComponentProvider");try{await bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await bf(s,new Yo)}}else nt(Vr,"Using default OfflineComponentProvider"),await bf(s,new U1(void 0));return s._offlineComponents}async function yv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Vr,"Using user provided OnlineComponentProvider"),await zy(s,s._uninitializedComponentsProvider._online)):(nt(Vr,"Using default OnlineComponentProvider"),await zy(s,new Qf))),s._onlineComponents}function B1(s){return yv(s).then(e=>e.syncEngine)}async function P1(s){const e=await yv(s),i=e.eventManager;return i.onListen=T1.bind(null,e.syncEngine),i.onUnlisten=b1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=A1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=R1.bind(null,e.syncEngine),i}function k1(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,_,v){const b=new x1({next:B=>{b.su(),d.enqueueAndForget(()=>d1(h,I)),B.fromCache&&_.source==="server"?v.reject(new ut(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),I=new p1(p,b,{includeMetadataChanges:!0,Ta:!0});return f1(h,I)}(await P1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q1(s,e,i,a){if(e===!0&&a===!0)throw new ut(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Py(s){if(!ct.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ky(s){if(ct.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ed(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt()}function ma(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(s);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="firestore.googleapis.com",qy=!0;class Hy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ev,this.ssl=qy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:qy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mS)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new GT;switch(a.type){case"firstParty":return new KT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=By.get(i);a&&(nt("ComponentProvider","Removing Datastore"),By.delete(i),a.terminate())}(this),Promise.resolve()}}function H1(s,e,i,a={}){var u;const h=(s=ma(s,lc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==Ev&&h.host!==p&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:a});if(!Uo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=Ge.MOCK_USER;else{v=S0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ge(I)}s._authCredentials=new QT(new o_(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class Vn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Ar extends uc{constructor(e,i,a){super(e,i,C_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ct(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function jy(s,e,...i){if(s=Sr(s),vv("collection","path",e),s instanceof lc){const a=Zt.fromString(e,...i);return ky(a),new Ar(s,null,a)}{if(!(s instanceof Vn||s instanceof Ar))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return ky(a),new Ar(s.firestore,null,a)}}function Tv(s,e,...i){if(s=Sr(s),arguments.length===1&&(e=h_.newId()),vv("doc","path",e),s instanceof lc){const a=Zt.fromString(e,...i);return Py(a),new Vn(s,null,new ct(a))}{if(!(s instanceof Vn||s instanceof Ar))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Py(a),new Vn(s.firestore,s instanceof Ar?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="AsyncQueue";class Qy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ev(this,"async_queue_retry"),this.Su=()=>{const a=Sf();a&&nt(Gy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Sf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Sf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ss(e))throw e;nt(Gy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=gd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Jl extends lc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Qy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qy(e),this._firestoreClient=void 0,await e}}}function j1(s,e){const i=typeof s=="object"?s:MT(),a=typeof s=="string"?s:Bo,u=CT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=T0("firestore");h&&H1(u,...h)}return u}function Av(s){if(s._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||G1(s),s._firestoreClient}function G1(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,b){return new oA(p,_,v,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,_v(b.experimentalLongPollingOptions),b.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new L1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(Pe.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/^__.*__$/;class F1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class Sv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function bv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class bd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ko(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bv(this.Lu)&&Q1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Y1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||rc(e)}ju(e,i,a,u=!1){return new bd({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rv(s){const e=s._freezeSettings(),i=rc(s._databaseId);return new Y1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function K1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Rd("Data must be an object, but it was:",d,a);const p=wv(a,d);let _,v;if(h.merge)_=new hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const I of h.mergeFields){const B=Ff(e,I,i);if(!d.contains(B))throw new ut(K.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Cv(b,B)||b.push(B)}_=new hn(b),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new F1(new nn(p),_,v)}class cc extends Td{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cc}}function X1(s,e,i,a){const u=s.ju(1,e,i);Rd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Nr(a,(_,v)=>{const b=wd(e,_,i);v=Sr(v);const I=u.Uu(b);if(v instanceof cc)h.push(b);else{const B=hc(v,I);B!=null&&(h.push(b),d.set(b,B))}});const p=new hn(h);return new Sv(d,p,u.fieldTransforms)}function Z1(s,e,i,a,u,h){const d=s.ju(1,e,i),p=[Ff(e,a,i)],_=[u];if(h.length%2!=0)throw new ut(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)p.push(Ff(e,h[B])),_.push(h[B+1]);const v=[],b=nn.empty();for(let B=p.length-1;B>=0;--B)if(!Cv(v,p[B])){const j=p[B];let F=_[B];F=Sr(F);const $=d.Uu(j);if(F instanceof cc)v.push(j);else{const X=hc(F,$);X!=null&&(v.push(j),b.set(j,X))}}const I=new hn(v);return new Sv(b,I,d.fieldTransforms)}function hc(s,e){if(Dv(s=Sr(s)))return Rd("Unsupported field value:",e,s),wv(s,e);if(s instanceof Td)return function(a,u){if(!bv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=hc(p,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Sr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Go(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Go(u.serializer,h)}}if(a instanceof Ad)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vs)return{bytesValue:G_(u.serializer,a._byteString)};if(a instanceof Vn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:sd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Sd)return function(d,p){return{mapValue:{fields:{[v_]:{stringValue:E_},[Po]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return nd(p.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${Ed(a)}`)}(s,e)}function wv(s,e){const i={};return d_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,(a,u)=>{const h=hc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Dv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Ad||s instanceof vs||s instanceof Vn||s instanceof Td||s instanceof Sd)}function Rd(s,e,i){if(!Dv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Ed(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Ff(s,e,i){if((e=Sr(e))instanceof oc)return e._internalPath;if(typeof e=="string")return wd(s,e);throw Ko("Field path arguments must be of type string or ",s,!1,void 0,i)}const $1=new RegExp("[~\\*/\\[\\]]");function wd(s,e,i){if(e.search($1)>=0)throw Ko(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new oc(...e.split("."))._internalPath}catch{throw Ko(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ko(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ut(K.INVALID_ARGUMENT,p+s+_)}function Cv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Nv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class J1 extends Vv{data(){return super.data()}}function Nv(s,e){return typeof e=="string"?wd(s,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tb{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[Po].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Sd(h)}convertGeoPoint(e){return new Ad(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=$o(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);Ht(Z_(a));const u=new Gl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends Vv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Nv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Io extends nb{data(e={}){return super.data(e)}}class ib{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new wo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Io(this._firestore,this._userDataWriter,a.key,a,new wo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Io(u._firestore,u._userDataWriter,p.doc.key,p.doc,new wo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Io(u._firestore,u._userDataWriter,p.doc.key,p.doc,new wo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:rb(p.type),doc:_,oldIndex:v,newIndex:b}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function rb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class ab extends tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,i)}}function sb(s){s=ma(s,uc);const e=ma(s.firestore,Jl),i=Av(e),a=new ab(e);return W1(s._query),k1(i,s._query).then(u=>new ib(e,a,s,u))}function lb(s,e,i,...a){s=ma(s,Vn);const u=ma(s.firestore,Jl),h=Rv(u);let d;return d=typeof(e=Sr(e))=="string"||e instanceof oc?Z1(h,"updateDoc",s._key,e,i,a):X1(h,"updateDoc",s._key,e),Dd(u,[d.toMutation(s._key,Ln.exists(!0))])}function ub(s){return Dd(ma(s.firestore,Jl),[new id(s._key,Ln.none())])}function ob(s,e){const i=ma(s.firestore,Jl),a=Tv(s),u=eb(s.converter,e);return Dd(i,[K1(Rv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ln.exists(!1))]).then(()=>a)}function Dd(s,e){return function(a,u){const h=new Tr;return a.asyncQueue.enqueueAndForget(async()=>w1(await B1(a),u,h)),h.promise}(Av(s),e)}(function(e,i=!0){(function(u){Ts=u})(IT),Lo(new kl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Jl(new FT(a.getProvider("auth-internal")),new XT(d,a.getProvider("app-check-internal")),function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(v.options.projectId,b)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),hs(Zp,$p,e),hs(Zp,$p,"esm2017")})();var cb="firebase",hb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(cb,hb,"app");const fb={apiKey:"AIzaSyCiB-ZHoprtDnOwoRZ4QLpyrYTCb_4foFk",authDomain:"simple-notes-matteo.firebaseapp.com",projectId:"simple-notes-matteo",storageBucket:"simple-notes-matteo.firebasestorage.app",messagingSenderId:"478438693453",appId:"1:478438693453:web:3205d89597cccd3f035a04",measurementId:"G-78Y6LZHC2V"},db=t_(fb),Fy=j1(db);function mb(s){return Pt.jsxs("div",{className:"tool-bar",children:[Pt.jsx("img",{src:"./Logo.svg",alt:"Profile-Pic"}),Pt.jsxs("div",{className:"search-div",children:[Pt.jsx("img",{src:"./Frame.svg",alt:"Search",id:"search-btn"}),Pt.jsx("input",{type:"text",id:"search-bar",placeholder:"Search",onChange:e=>s.filter(e)})]}),Pt.jsx("img",{src:"./n-edit 1.svg",alt:"Create Note",onClick:()=>s.createNote()})]})}function gb(s){return Pt.jsx("div",{draggable:"true",className:`${s.selectedNote.id===s.id?"selected":"un-selected"} small-note ${s.status?"hidden":""}`,children:Pt.jsxs("div",{className:"small-note-inside",onClick:()=>s.selectedNote.id===s.id?s.setSelectedNote({id:void 0}):s.setSelectedNote({id:s.id,title:s.title,text:s.text,date:s.date}),children:[Pt.jsxs("h2",{className:"small-note-title",children:[" ",Pt.jsx("b",{children:s.title.toString().slice(0,26)})]}),Pt.jsx("h4",{className:"small-note-text",children:s.text.toString().slice(0,73)}),Pt.jsx("p",{className:"small-note-date",children:s.date})]})})}function pb(s){return Pt.jsxs("div",{id:"side-bar",className:"side-bar",children:[Pt.jsx(mb,{filter:s.filter,createNote:s.createNote}),Pt.jsx("div",{className:"notes",children:s.notesList.map((e,i)=>Pt.jsx(gb,{date:s.notesList[i].date,title:e.title,text:e.text,id:s.notesList[i].id,setSelectedNote:s.setSelectedNote,selectedNote:s.selectedNote,status:e.status},i))})]})}function yb(s){return Pt.jsxs("div",{className:"main-content",children:[Pt.jsx("img",{src:"./bin1.svg",alt:"Delete",onClick:()=>s.deleteNote()}),Pt.jsxs("div",{className:"A4-Blatt",children:[Pt.jsx("h1",{contentEditable:s.selectedNote.id!=null,placeholder:"Enter a title",type:"text",id:"title-input",onInput:()=>s.SaveNote()}),Pt.jsx("p",{id:"display-date"}),Pt.jsx("p",{contentEditable:s.selectedNote.id!=null,placeholder:"Enter a text",type:"text",id:"text-input",onInput:()=>s.SaveNote()})," ",Pt.jsx("br",{}),Pt.jsx("br",{})]})]})}function _b(){const[s,e]=Il.useState([]),[i,a]=Il.useState({}),u=jy(Fy,"Notes"),h=Tv(u,`${i.id}`);let d=s.findIndex(F=>F.id===i.id);Il.useEffect(()=>{(async()=>{try{let $=await sb(jy(Fy,"Notes")),X=[];$.docs.forEach(mt=>{let at=mt.data();at.id=mt.id,(typeof at.text=="string"||typeof at.text=="number")&&(typeof at.title=="string"||typeof at.title=="number")&&typeof at.date=="string"&&X.push(at)}),e(X)}catch($){console.warn($)}})()},[]);function p(){let F=document.getElementById("title-input").innerText,$=document.getElementById("text-input").innerText,X=[...s];i.id&&(X[d]={title:F,text:$,date:X[d].date,id:X[d].id},e(X),(async()=>{try{await lb(h,{title:F,text:$})}catch(at){console.error(at)}})())}function _(){if(i.id){const F=[...s];F.splice(d,1),e(F),a({id:void 0}),(async()=>{await ub(h)})()}}Il.useEffect(()=>{i.id?(document.getElementById("title-input").innerText=i.title,document.getElementById("text-input").innerText=i.text,document.getElementById("display-date").innerText=i.date):(document.getElementById("title-input").value="",document.getElementById("text-input").value="")},[i]);function v(){let $={title:"",text:"",date:I().toString()};(async()=>{try{let mt=(await ob(u,$)).id,at={...$,id:mt};e([at,...s]),a(at)}catch(mt){console.error(mt)}})()}function b(F){const $=s.map(X=>({...X,status:!(X.title.toLowerCase().includes(F.target.value)||X.text.toLowerCase().includes(F.target.value))}));e($)}function I(){let F=new Date;return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Okt","Nov","Dez"][F.getMonth()]} ${F.getDate()}, ${F.getFullYear()}`}var B="Closed";function j(){var F=document.getElementById("side-bar"),$=document.getElementById("rotate");F.classList.remove("shrink","grow"),$.classList.remove("rotate","rotate2"),B==="Closed"?(F.classList.add("shrink"),$.classList.add("rotate"),B="Open"):(F.classList.add("grow"),$.classList.add("rotate2"),B="Closed")}return Pt.jsxs("div",{className:"all-content",children:[Pt.jsx(pb,{filter:b,createNote:v,setSelectedNote:a,selectedNote:i,notesList:s}),Pt.jsx("div",{className:"vertical-line",children:Pt.jsx("img",{id:"rotate",src:"./Button 01.svg",alt:"",onClick:()=>j()})}),Pt.jsx(yb,{SaveNote:p,deleteNote:_,selectedNote:i})]})}c0.createRoot(document.getElementById("root")).render(Pt.jsx(Il.StrictMode,{children:Pt.jsx(_b,{})}));
